webpackJsonp([51],{I5BE:function(e,t,a){var n=a("eraS");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("2c3b6b64",n,!1,{})},eraS:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.online-recharge-wrapper .cz {\n  position: relative;\n  text-indent: 5px;\n}\n.online-recharge-wrapper .cz:after {\n  content: '';\n  position: absolute;\n  left: 15px;\n  top: 13px;\n  height: 15px;\n  width: 4px;\n  background-color: #ec6868;\n}\n.online-recharge-wrapper .weui-cells {\n  margin-top: 0;\n  font-size: 14px;\n}\n.online-recharge-wrapper .weui-input {\n  text-align: right;\n}\n.online-recharge-wrapper .button {\n  padding: 40px 15px 15px;\n}\n.online-recharge-wrapper .up-bank-box {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 10px 15px;\n}\n.online-recharge-wrapper .up-bank-box li {\n  list-style: none;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  border: 1px solid #d5d5d5;\n  border-radius: 5px;\n}\n.online-recharge-wrapper .up-bank-box li:nth-child(1) {\n  margin-right: 20px;\n}\n.online-recharge-wrapper .up-bank-box li.active {\n  border-color: #ec6868;\n}\n.online-recharge-wrapper .up-bank-box li img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.online-recharge-wrapper .up-text {\n  color: #9b9b9b;\n  padding: 10px 15px;\n  font-size: 12px;\n}\n.online-recharge-wrapper .weui-icon {\n  font-size: 18px;\n}\n.online-recharge-wrapper .check-wrapper {\n  padding: 10px 15px 0 10px;\n  color: #727272;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  line-height: 22px;\n}\n",""])},gGmn:function(e,t,a){"use strict";function n(e){x||a("I5BE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ABCa"),i=a("rHil"),o=a("pDNl"),p=a("1DHf"),s=a("Msp2"),c=a("2sLL"),h=a("EmH9"),l=a("ujWF"),u=a("ghf0"),d=(r.a,i.a,o.a,p.a,s.a,u.a,c.a,h.a,{data:function(){return{baseUrl:"https://biz.tupperware.com.cn",show:!1,typeWay:"请选择充值方式",typeName:"请选择款项用途",typeMenu:{8796120907867:"货款",8796120940635:"保证金",8796121071707:"货款 + 保证金"},chargeType:[],upChargeData:{bank:"",type:"",balance:"",deposit:"",remark:""},rate:0,top:0,typeSelected:!1,waySelected:!1,checked:!1,orderNo:"",deposit:0}},computed:{serviceCharge:function(){if(0===this.rate)return this.top;var e=(Number(this.upChargeData.balance)+Number(this.upChargeData.deposit))*this.rate;return null!==this.top&&e>this.top?Math.floor(100*this.top)/100:Math.floor(100*e)/100},totalCharge:function(){return Math.round(100*(this.serviceCharge+Number(this.upChargeData.balance)+Number(this.upChargeData.deposit)))/100}},watch:{"upChargeData.type":function(e){var t=this;this.deposit>0&&("8796120940635"===e||"8796121071707"===e)&&this.$vux.confirm.show({content:"你的账号已经有保证金"+this.deposit+"元，是否需要继续充值？",onCancel:function(){t.upChargeData.type="",t.typeName="请选择款项用途"},onConfirm:function(){}})}},methods:{showSelector:function(){this.typeSelected=!0},showWaySelector:function(){this.waySelected=!0},selectBank:function(e){this.upChargeData.bank=e.key,this.top=e.top,this.rate=e.rate},setType:function(e,t){this.upChargeData.type=e,this.typeName=t},submit:function(){var e=this;if(Object(l.d)(this,this.upChargeData.bank,"充值方式")){var t=!1;if(Object(l.d)(this,this.upChargeData.type,"款项用途")&&(t="8796120907867"===this.upChargeData.type&&Object(l.d)(this,this.upChargeData.balance,"货款金额")||"8796120940635"===this.upChargeData.type&&Object(l.d)(this,this.upChargeData.deposit,"保证金金额")||"8796121071707"===this.upChargeData.type&&Object(l.d)(this,this.upChargeData.balance,"货款金额")&&Object(l.d)(this,this.upChargeData.deposit,"保证金金额")),t){if(!this.checked)return void this.$vux.toast.text("请勾选充值提醒");this.orderNo&&(this.upChargeData.orderNo=this.orderNo),this.$tupHttp(this,"front/account/charge/online","POST",this.upChargeData).then(function(t){e.$util.rechargeResult(e.baseUrl+"/mobile-hsy/index.html#/rechargeResult?orderNo="+t.data.model.orderNo,"充值结果"),"GET"===t.data.model.method?window.open(t.data.model.url,"_self"):e.createForm(t.data.model)})}}},createForm:function(e){var t=document.createElement("form");t.action=e.url,t.target="_self",t.method="post",t.style.display="none";for(var a in e.params){var n=document.createElement("textarea");n.name=a,n.value=e.params[a],t.appendChild(n)}document.body.appendChild(t),t.submit()},_getInfo:function(){var e=this;this.$tupHttp(this,"front/user/info/v1").then(function(t){e.deposit=t.data.model.userAccount.deposit/100})},_getChargeMethods:function(){var e=this;this.$tupHttp(this,"front/account/charge/methods").then(function(t){e.chargeType=t.data.models.filter(function(e){return e.name.indexOf("工商")<0})})}},created:function(){var e=this.$route.query.amount;e&&(this.upChargeData.balance=e,this.upChargeData.type="8796120907867",this.typeName="货款"),this.orderNo=this.$route.query.orderNo,this._getChargeMethods(),this._getInfo();var t=navigator.userAgent,a=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);a||n||(this.show=!0)},components:{XHeader:r.a,Group:i.a,XInput:o.a,Cell:p.a,Actionsheet:s.a,Scroll:u.a,XButton:c.a,CheckIcon:h.a}}),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"online-recharge-wrapper page-container"},[e.show?a("x-header",{staticClass:"vux-1px-b",attrs:{title:"线上充值","left-options":{backText:""}}}):e._e(),e._v(" "),a("group",[a("cell",{staticClass:"cz",attrs:{title:"充值方式"}}),e._v(" "),a("ul",{staticClass:"up-bank-box"},e._l(e.chargeType,function(t,n){return a("li",{key:n,class:{active:e.upChargeData.bank===t.key},on:{click:function(a){return e.selectBank(t)}}},[a("img",{attrs:{src:t.icon}})])}),0),e._v(" "),a("p",{staticClass:"up-text"},[e._v("注：工商银行支付不支持在移动端使用")]),e._v(" "),a("cell",{attrs:{title:"款项用途","is-link":""},nativeOn:{click:function(t){return e.showSelector(t)}},model:{value:e.typeName,callback:function(t){e.typeName=t},expression:"typeName"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:e.upChargeData.type&&"8796120940635"!==e.upChargeData.type,expression:"upChargeData.type && upChargeData.type !== '8796120940635'"}],attrs:{title:"货款金额",type:"number",placeholder:"请输入货款金额"},model:{value:e.upChargeData.balance,callback:function(t){e.$set(e.upChargeData,"balance",t)},expression:"upChargeData.balance"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:e.upChargeData.type&&"8796120907867"!==e.upChargeData.type,expression:"upChargeData.type && upChargeData.type !== '8796120907867'"}],attrs:{title:"保证金金额",type:"number",placeholder:"请输入保证金金额"},model:{value:e.upChargeData.deposit,callback:function(t){e.$set(e.upChargeData,"deposit",t)},expression:"upChargeData.deposit"}}),e._v(" "),"8796113141851"!==e.upChargeData.bank?a("cell",{attrs:{title:"手续费"},model:{value:e.serviceCharge,callback:function(t){e.serviceCharge=t},expression:"serviceCharge"}}):e._e(),e._v(" "),a("cell",{attrs:{title:"应付金额"},model:{value:e.totalCharge,callback:function(t){e.totalCharge=t},expression:"totalCharge"}})],1),e._v(" "),a("div",{staticClass:"check-wrapper"},[a("check-icon",{attrs:{value:e.checked},on:{"update:value":function(t){e.checked=t}}}),e._v(" "),a("p",[e._v("充值提醒：已确认由店主本人账户支付。他人代付的，请确认付款人自愿代店主支付。")])],1),e._v(" "),a("div",{staticClass:"button"},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("提交")])],1),e._v(" "),a("actionsheet",{attrs:{menus:e.typeMenu},on:{"on-click-menu":e.setType},model:{value:e.typeSelected,callback:function(t){e.typeSelected=t},expression:"typeSelected"}})],1)])},f=[];g._withStripped=!0;var b={render:g,staticRenderFns:f},m=b,x=!1,v=a("VU/8"),C=n,y=v(d,m,!1,C,null,null);y.options.__file="src/components/mine/onlineRecharge.vue";t.default=y.exports}});
//# sourceMappingURL=51.fbca0637426e094bbdee.js.map