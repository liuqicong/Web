webpackJsonp([29],{"4wRW":function(e,t,n){var i=n("TgiY");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("904469fc",i,!1,{})},RCHY:function(e,t,n){"use strict";function i(e){y||n("4wRW")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("rHil"),r=n("pDNl"),o=n("2sLL"),s=n("UNGY"),c=n("ABCa"),l=n("1DHf"),p=n("Msp2"),d=n("ALGc"),h=n("ujWF"),u=n("ghf0"),m=n("XNLL"),f=(r.a,a.a,o.a,c.a,s.a,l.a,p.a,d.a,u.a,m.a,{data:function(){return{baseUrl:"https://api.tupperware.com.cn",type:"",typeName:"请选择款项用途",balance:"",deposit:"",commitTime:"",bank:"",bankName:"请选择收款银行",remark:"",credential:[],credential1:"",credential2:"",typeSelected:!1,bankSelected:!1,typeMenu:{8796120907867:"货款账户",8796120940635:"保证金账户",8796121071707:"同时转货款账户和保证金账户"},bankMenu:{bank1:"建设银行(7455)",bank2:"工商银行(25204)"},inited:!1,endDate:(new Date).format("yyyy-MM-dd"),orderNo:"",deposited:0}},watch:{type:function(e){var t=this;this.deposited>0&&("8796120940635"===e||"8796121071707"===e)&&this.$vux.confirm.show({content:"你的账号已经有保证金"+this.deposited+"元，是否需要继续充值？",onCancel:function(){t.type="",t.typeName="请选择款项用途"},onConfirm:function(){}})}},methods:{goBack:function(){this.$router.go(-1)},showSelector:function(){this.typeSelected=!0},showBankSelector:function(){this.bankSelected=!0},setType:function(e,t){this.type=e,this.typeName=t},setBank:function(e,t){this.bankName=t,this.bank=t},beforeSend:function(e){if(Object(h.f)(this,e))return this.$vux.loading.show({text:"图片上传中，请稍候"}),!0},onFinish:function(e){this.$vux.loading.hide(),this.credential.push(e.model)},onError:function(){this.$vux.loading.hide(),this.$vux.toast.text("上传失败，请重试~")},delImg:function(e){this.credential.splice(e,1)},submit:function(){var e=this;if(!this.inited){var t=!1;if(Object(h.d)(this,this.type,"款项用途")&&(t="8796120907867"===this.type&&Object(h.d)(this,this.balance,"货款金额")||"8796120940635"===this.type&&Object(h.d)(this,this.deposit,"保证金金额")||"8796121071707"===this.type&&Object(h.d)(this,this.balance,"货款金额")&&Object(h.d)(this,this.deposit,"保证金金额")),t&&Object(h.d)(this,this.commitTime,"打款日期")&&Object(h.d)(this,this.bank,"特百惠收款银行")&&Object(h.d)(this,this.credential,"上传凭证")){var n={type:this.type,commitTime:this.commitTime,bank:this.bank,remark:this.remark,credential1:this.credential[0],credential2:this.credential[1]?this.credential[1]:""};"8796120907867"!==n.type&&(n.deposit=this.deposit),"8796120940635"!==n.type&&(n.balance=this.balance),this.orderNo&&(n.orderNo=this.orderNo),this.$tupHttp(this,"front/account/charge/offline","POST",n).then(function(t){e.inited=!0,e.$vux.toast.text("提交成功，请等待客服审核~"),setTimeout(function(){e.$router.go(-1)},2e3)})}}},_getInfo:function(){var e=this;this.$tupHttp(this,"front/user/info/v1").then(function(t){e.deposited=t.data.model.userAccount.deposit/100})}},created:function(){this._getInfo();var e=this.$route.query.amount;this.orderNo=this.$route.query.orderNo,e&&(this.balance=e,this.type="8796120907867",this.typeName="货款账户")},components:{XInput:r.a,Group:a.a,XButton:o.a,XHeader:c.a,Datetime:s.a,Cell:l.a,Actionsheet:p.a,XTextarea:d.a,Scroll:u.a,Uploader:m.a}}),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"offline-recharge-wrapper page-container"},[n("x-header",{staticClass:"header",attrs:{"left-options":{backText:"",preventGoBack:!0},title:"线下充值"},on:{"on-click-back":e.goBack}}),e._v(" "),n("scroll",{staticClass:"scroll-wrapper"},[n("div",[n("group",[n("cell",{attrs:{title:"款项用途","is-link":""},nativeOn:{click:function(t){return e.showSelector(t)}},model:{value:e.typeName,callback:function(t){e.typeName=t},expression:"typeName"}}),e._v(" "),n("x-input",{directives:[{name:"show",rawName:"v-show",value:e.type&&"8796120940635"!==e.type,expression:"type && type !== '8796120940635'"}],attrs:{title:"货款金额",type:"number",placeholder:"请输入货款金额"},model:{value:e.balance,callback:function(t){e.balance=t},expression:"balance"}}),e._v(" "),n("x-input",{directives:[{name:"show",rawName:"v-show",value:e.type&&"8796120907867"!==e.type,expression:"type && type !== '8796120907867'"}],attrs:{title:"保证金金额",type:"number",placeholder:"请输入保证金金额"},model:{value:e.deposit,callback:function(t){e.deposit=t},expression:"deposit"}}),e._v(" "),n("datetime",{attrs:{title:"打款日期",placeholder:"请选择打款日期","end-date":e.endDate},model:{value:e.commitTime,callback:function(t){e.commitTime=t},expression:"commitTime"}}),e._v(" "),n("cell",{attrs:{title:"特百惠收款银行","is-link":""},nativeOn:{click:function(t){return e.showBankSelector(t)}},model:{value:e.bankName,callback:function(t){e.bankName=t},expression:"bankName"}}),e._v(" "),n("x-textarea",{attrs:{title:"备注",placeholder:"请填写备注（80字以内）","show-counter":!1,rows:3,max:80},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}}),e._v(" "),n("cell",{attrs:{title:"上传凭证"}}),e._v(" "),n("div",{staticClass:"img-content"},[e._l(e.credential,function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.credential.length,expression:"credential.length"}],key:t,staticClass:"img-item"},[n("a",[n("img",{attrs:{src:t+"!180"}})]),e._v(" "),n("p",{staticClass:"span-del",on:{click:function(t){return e.delImg(i)}}},[e._v("删除")])])}),e._v(" "),n("uploader",{directives:[{name:"show",rawName:"v-show",value:e.credential.length<2,expression:"credential.length < 2"}],attrs:{url:e.baseUrl+"/front/user/upload",beforeSend:e.beforeSend,onFinish:e.onFinish,onError:e.onError}},[n("i",{staticClass:"icon-add"})])],2),e._v(" "),n("div",{staticClass:"button"},[n("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("提交")])],1)],1)],1)]),e._v(" "),n("actionsheet",{attrs:{menus:e.typeMenu},on:{"on-click-menu":e.setType},model:{value:e.typeSelected,callback:function(t){e.typeSelected=t},expression:"typeSelected"}}),e._v(" "),n("actionsheet",{attrs:{menus:e.bankMenu},on:{"on-click-menu":e.setBank},model:{value:e.bankSelected,callback:function(t){e.bankSelected=t},expression:"bankSelected"}})],1)])},v=[];b._withStripped=!0;var g={render:b,staticRenderFns:v},k=g,y=!1,x=n("VU/8"),w=i,N=x(f,k,!1,w,null,null);N.options.__file="src/components/mine/offlineRecharge.vue";t.default=N.exports},TgiY:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"\n.offline-recharge-wrapper .weui-input {\n  text-align: right;\n}\n.offline-recharge-wrapper .weui-cells {\n  margin-top: 0;\n  font-size: 14px;\n}\n.offline-recharge-wrapper .img-content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0 15px .2rem;\n  background-color: #fff;\n}\n.offline-recharge-wrapper .img-content .img-item {\n  margin-right: .15rem;\n}\n.offline-recharge-wrapper .img-content .img-item a {\n  width: 1.5rem;\n  height: 1.5rem;\n  text-align: center;\n  vertical-align: middle;\n  display: inline-block;\n}\n.offline-recharge-wrapper .img-content .img-item a img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.offline-recharge-wrapper .img-content .img-item .span-del {\n  margin-top: .06rem;\n  text-align: center;\n  font-size: 14px;\n  color: #ec6868;\n}\n.offline-recharge-wrapper .button {\n  padding: 0 15px 15px;\n}\n",""])}});
//# sourceMappingURL=29.0da8d20b83fd44524bbd.js.map