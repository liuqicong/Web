webpackJsonp([30],{aP41:function(e,t,a){var i=a("ysXg");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("42261f7f",i,!1,{})},pRPC:function(e,t,a){"use strict";function i(e){_||a("aP41")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rHil"),n=a("pDNl"),s=a("2sLL"),o=a("UNGY"),l=a("ABCa"),p=a("1DHf"),c=a("Msp2"),u=a("ALGc"),d=a("jHVj"),h=a("iFAF"),m=a("LeAj"),y=a("/kga"),x=a("ujWF"),v=a("XNLL"),g=a("fXK8"),f=(n.a,r.a,s.a,l.a,o.a,p.a,c.a,u.a,v.a,d.a,h.a,m.a,y.a,g.a,{data:function(){return{baseUrl:"https://api.tupperware.com.cn",inited:!1,itemlist:[],nodatatext:"",placeholder:"",asTil:"订单产品",aSType:"",aSTypeOne:!1,img1:a("/4tb"),img2:a("e9MK"),img3:a("yjkF"),img4:a("XpXS"),img5:a("7GZ+"),img6:a("Ug/r"),img7:a("d/gL"),img8:a("vF2x"),img9:a("zswc"),image:"",dialogVisible:!1,photoLabel:[],photoText:"",photoArr1:[{text:"物流标签(正面)",img:"img1"},{text:"重量喷码(背面)",img:"img2"},{text:"箱单内容(箱内)",img:"img3"},{text:"多发实物",img:""},{text:"整箱称重",img:"img4"}],photoArr2:[{text:"物流标签(正面)",img:"img1"},{text:"重量喷码(背面)",img:"img2"},{text:"箱单内容(箱内)",img:"img3"},{text:"错发实物",img:""},{text:"整箱称重",img:"img4"}],photoArr3:[{text:"物流标签(正面)",img:"img1"},{text:"重量喷码(背面)",img:"img2"},{text:"箱单内容(箱内)",img:"img3"},{text:"整箱完整全图",img:"img5"},{text:"整箱称重",img:"img4"}],photoArr4:[{text:"产品破损照片",img:"img6"},{text:"整箱完整全图",img:"img5"},{text:"物流标签(正面)",img:"img1"},{text:"补充照片",img:""}],photoArr6:[{text:"产品缺陷照片",img:"img7"},{text:"补充照片",img:""},{text:"补充照片",img:""},{text:"补充照片",img:""}],photoArr:[{text:"产品退回快递单照片",img:"img8"}],tip:"",photos:["","","","",""],type:"",list:[{label:"订单号：&nbsp;&nbsp;&nbsp;",value:""},{label:"产品编号：",value:""},{label:"产品名称：",value:""},{label:"订购数量：",value:""},{label:"订购单价：",value:""}],typeName:"请选择申报产品编号",jdeOrderNo:"",asTypeMenu:{1:"多发",2:"错发",3:"漏发",4:"残次申报",6:"质量评估申报"},asTypeSelected:!1,replaceImg:!1,ImgNum:0,declarationProductNo:"",declarationProductName:"",declarationQuantity:0,declarationUnit:"套",description:"",realityNumber:0,receivedDate:"",pickSlipNo:"",containerNo:"",weight:"",backExpressCompany:"",backExpressNo:""}},methods:{showImg:function(e){this.image=this[e],this.dialogVisible=!0},goBack:function(){this.$router.push({path:"/afterSaleType",query:{orderNo:this.$route.query.orderNo,lineno:this.$route.query.lineno}})},setType:function(e){1===Number(e)&&(this.aSType="多发",this.tip="请说明多发成什么产品，您是否愿意购买等情况"),2===Number(e)&&(this.aSType="错发",this.tip="请说明错发成什么产品，您是否愿意购买等情况"),3===Number(e)&&(this.aSType="漏发",this.tip="请说明漏发产品情况"),1!==Number(e)&&2!==Number(e)&&3!==Number(e)||(this.aSTypeOne=!0,this.photoText="请提供5张现场收货照片"),4===Number(e)&&(this.aSType="残次申报",this.aSTypeOne=!1,this.photoText="请提供4张现场收货照片",this.tip="请填写破损情况"),6===Number(e)&&(this.aSType="质量评估申报",this.aSTypeOne=!1,this.photoText="请提供4张照片",this.tip="请填写产品质量问题情况"),this.photoLabel=this["photoArr"+e]},showaSTypeSelector:function(){this.asTypeSelected=!0},setAsType:function(e,t){this.type=e,this.aSType=t,this.photos=["","","","",""],this.setType(e)},beforeSend:function(e){if(Object(x.f)(this,e))return this.$vux.loading.show({text:"图片上传中，请稍候"}),!0},imgClick:function(e){this.ImgNum=e},onFinish:function(e){this.$vux.loading.hide(),this.photos.splice(this.ImgNum,1,e.model)},onError:function(){this.$vux.loading.hide(),this.$vux.toast.text("上传失败，请重试~")},submit:function(){var e=this;if(this.inited)return void this.$vux.toast.text("拼命请求中，请稍候~");var t=!1;if(this.aSTypeOne&&(t=Object(x.d)(this,this.declarationProductNo,"申报产品编号")&&Object(x.d)(this,this.declarationProductName,"申报产品名称")&&Object(x.c)(this,this.declarationQuantity,"申报数量")&&Object(x.d)(this,this.declarationUnit,"申报单位")&&Object(x.d)(this,this.containerNo,"所在装箱号")&&Object(x.d)(this,this.receivedDate,"到货日期")&&Object(x.b)(this,this.realityNumber,"实收数量")&&Object(x.d)(this,this.weight,"重量")&&Object(x.d)(this,this.description,"情况说明")),4===Number(this.type)&&(t=Object(x.d)(this,this.declarationProductNo,"申报产品编号")&&Object(x.d)(this,this.declarationProductName,"申报产品名称")&&Object(x.c)(this,this.declarationQuantity,"申报数量")&&Object(x.d)(this,this.declarationUnit,"申报单位")&&Object(x.d)(this,this.receivedDate,"到货日期")&&Object(x.d)(this,this.description,"情况说明")),6===Number(this.type)&&(t=Object(x.d)(this,this.declarationProductNo,"申报产品编号")&&Object(x.d)(this,this.declarationProductName,"申报产品名称")&&Object(x.c)(this,this.declarationQuantity,"申报数量")&&Object(x.d)(this,this.declarationUnit,"申报单位")&&Object(x.d)(this,this.description,"情况说明")),t){var a=void 0,i=[];if(this.photos.map(function(e,t){i.push(e)}),4!==Number(this.type)&&6!==Number(this.type)||(a=i[4],i.pop()),i=i.filter(function(e){return e}),i.length!==this.photoLabel.length)return this.$vux.toast.text(this.photoText),!1;i.push(a),this.containerNo=4===Number(this.type)||6===Number(this.type)?"":this.containerNo,this.receivedDate=6===Number(this.type)?"":this.receivedDate,this.realityNumber=4===Number(this.type)||6===Number(this.type)?"":this.realityNumber,this.weight=4===Number(this.type)||6===Number(this.type)?"":this.weight;var r={backExpressCompany:this.backExpressCompany,backExpressNo:this.backExpressNo,receivedDate:this.receivedDate,containerNo:this.containerNo,declarationProductName:this.declarationProductName,declarationProductNo:this.declarationProductNo,declarationQuantity:this.declarationQuantity,declarationUnit:this.declarationUnit,description:this.description,jdeNo:this.jdeOrderNo,orderNo:this.list[0].value,photos:this.photos,pickSlipNo:this.pickSlipNo,unitPrice:this.list[4].value,productName:this.list[2].value,productNo:this.list[1].value,quantity:this.list[3].value,realityNumber:this.realityNumber,type:this.type,weight:this.weight};this.inited=!0,this.$tupHttp(this,"front/declaration/createDeclarationFromOrder","POST",r).then(function(t){e.inited=!1,e.$vux.toast.text("提交成功"),setTimeout(function(){e.$router.push({path:"/afterSaleList",query:{index:0}})},1e3)},function(){e.inited=!1}).catch(function(){e.inited=!1})}},_getItemData:function(e){var t=this,a={pagingQuery:{pageIndex:1,pageSize:50},search:e,type:2};6===Number(this.type)&&(a.isKitProduct=0),this.$tupHttp(this,"front/product/selectProductBypCodeOrpName","POST",a).then(function(e){t.itemlist=[],e.data.models.map(function(e,a){var i={pCode:e.pCode,pName:e.pName};t.itemlist.push(i)}),0===e.data.models.length&&(t.nodatatext=e.data.message)})},itemClick:function(e){this.declarationProductNo=e.pCode,this.placeholder=e.pCode,this.declarationProductName=e.pName,this.itemlist=[],this.nodatatext=""},searchVals:function(e){this.placeholder=e,this.declarationProductNo=e},_getDetail:function(){var e=this;this.$tupHttp(this,"manage-psi/purchase/front/permission-all/orderDetail/get","POST",{lineno:this.$route.query.lineno,orderNo:this.$route.query.orderNo}).then(function(t){var a=t.data.model;e.jdeOrderNo=a.jdeOrderNo,e.declarationProductNo=a.pCode,e.placeholder=a.pCode,e.pickSlipNo=a.id,e.unitPrice=a.orderUnitPrice,e.list[0].value=a.orderNo,e.list[1].value=a.pCode,e.list[2].value=a.pName,e.list[3].value=a.sduorg,e.list[4].value=a.orderUnitPrice,e.declarationProductName=e.list[2].value})}},created:function(){this.type=Number(this.$route.query.index),this.setType(this.type),this._getDetail(),document.addEventListener("click",function(e){var t=document.getElementById("myPanel"),a=document.getElementById("myUl"),i=document.getElementById("myTe");t&&(t.contains(e.target)||(a.style.display="none",i.style.display="none"))})},components:{XInput:n.a,Group:r.a,XButton:s.a,XHeader:l.a,Datetime:o.a,Cell:p.a,Actionsheet:c.a,XTextarea:u.a,Uploader:v.a,CellFormPreview:d.a,InlineXNumber:h.a,XNumber:m.a,XDialog:y.a,Dropdown:g.a}}),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"aftersaleapply-wrapper page-container"},[a("x-header",{staticClass:"header",attrs:{"left-options":{backText:"",preventGoBack:!0},title:e.asTil+e.aSType},on:{"on-click-back":e.goBack}}),e._v(" "),a("div",{staticClass:"scroll-wrapper"},[a("group",[a("cell",{attrs:{title:"申报类型：","is-link":""},nativeOn:{click:function(t){return e.showaSTypeSelector(t)}},model:{value:e.aSType,callback:function(t){e.aSType=t},expression:"aSType"}})],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"订单信息"}}),e._v(" "),a("cell-form-preview",{attrs:{list:e.list}})],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"申报信息"}})],1),e._v(" "),a("group",[a("cell",{staticClass:"applyNum applyReq",attrs:{title:"申报产品编号"},model:{value:e.declarationProductNo,callback:function(t){e.declarationProductNo=t},expression:"declarationProductNo"}},[a("dropdown",{attrs:{itemlist:e.itemlist,placeholder:e.placeholder,disabled:"",nodatatext:e.nodatatext},on:{_getItemData:e._getItemData,itemClick:e.itemClick,searchVals:e.searchVals}})],1),e._v(" "),a("p",{staticClass:"apply-tip"},[e._v("注："+e._s(2==e.type?"请选择应该发货的产品，":"")+"如您申报的是零配件，请下拉选择零配件，并填写零配件信息（可用“模具号”或“配件名称”搜索查找，如7075、茶韵随心杯杯身等）")]),e._v(" "),a("x-input",{staticClass:"applyReq",attrs:{title:"申报产品名称",placeholder:"",type:"text",disabled:""},model:{value:e.declarationProductName,callback:function(t){e.declarationProductName=t},expression:"declarationProductName"}}),e._v(" "),a("x-number",{staticClass:"applyReq vux-num",attrs:{title:"申报数量",min:0,"button-style":"round"},model:{value:e.declarationQuantity,callback:function(t){e.declarationQuantity=t},expression:"declarationQuantity"}}),e._v(" "),a("x-input",{staticClass:"applyReq",attrs:{title:"申报单位",placeholder:"请输入申报单位",type:"text"},model:{value:e.declarationUnit,callback:function(t){e.declarationUnit=t},expression:"declarationUnit"}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:6==e.type,expression:"type == 6"}],staticClass:"applyReq situation",attrs:{title:"情况说明"}},[a("span",{staticClass:"tip"},[e._v("注："+e._s(e.tip))])]),e._v(" "),a("x-textarea",{directives:[{name:"show",rawName:"v-show",value:6==e.type,expression:"type == 6"}],attrs:{title:"",placeholder:"请填写情况说明","show-counter":!1,rows:6},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("group",{directives:[{name:"show",rawName:"v-show",value:6!=e.type,expression:"type != 6"}],staticClass:"apply-box"},[a("cell",{attrs:{title:"到货信息",value:"请根据装箱单如实填写"}})],1),e._v(" "),a("group",{directives:[{name:"show",rawName:"v-show",value:6!=e.type,expression:"type != 6"}]},[a("cell",{attrs:{title:"JDE订单号",value:e.jdeOrderNo}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.aSTypeOne,expression:"aSTypeOne"}],attrs:{title:"拣货单号",value:e.pickSlipNo}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:e.aSTypeOne,expression:"aSTypeOne"}],staticClass:"applyReq",attrs:{title:"所在装箱号",placeholder:"请输入",type:"text"},model:{value:e.containerNo,callback:function(t){e.containerNo=t},expression:"containerNo"}}),e._v(" "),a("datetime",{staticClass:"applyReq",attrs:{title:"到货日期",placeholder:"请选择到货日期"},model:{value:e.receivedDate,callback:function(t){e.receivedDate=t},expression:"receivedDate"}}),e._v(" "),a("x-number",{directives:[{name:"show",rawName:"v-show",value:e.aSTypeOne,expression:"aSTypeOne"}],staticClass:"applyReq vux-num",attrs:{title:"实收数量",min:0,"button-style":"round"},model:{value:e.realityNumber,callback:function(t){e.realityNumber=t},expression:"realityNumber"}}),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:e.aSTypeOne,expression:"aSTypeOne"}],staticClass:"applyReq",attrs:{title:"重量（KG）",placeholder:"请输入",type:"number"},model:{value:e.weight,callback:function(t){e.weight=t},expression:"weight"}}),e._v(" "),a("cell",{staticClass:"applyReq situation",attrs:{title:"情况说明"}},[a("span",{staticClass:"tip"},[e._v("注："+e._s(e.tip))])]),e._v(" "),a("x-textarea",{attrs:{title:"",placeholder:"请填写情况说明","show-counter":!1,rows:6},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"上传照片",value:e.photoText}})],1),e._v(" "),a("group",e._l(e.photoLabel,function(t,i){return a("div",{key:t.index,staticClass:"photo clearfix"},[a("div",{staticClass:"photo-left"},[e._v(e._s(t.text))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.img,expression:"item.img"}],staticClass:"shili",on:{click:function(a){return e.showImg(t.img)}}},[e._v("示例图片")]),e._v(" "),a("div",{staticClass:"img-content photo-right",on:{click:function(t){return e.imgClick(i)}}},[a("uploader",{attrs:{url:e.baseUrl+"/front/user/upload",beforeSend:e.beforeSend,onFinish:e.onFinish,onError:e.onError}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.photos[i],expression:"photos[index]"}],staticClass:"img-item"},[a("a",[a("img",{attrs:{src:e.photos[i]+"!180"}})])])])],1)])}),0),e._v(" "),a("group",{directives:[{name:"show",rawName:"v-show",value:3!=e.type,expression:"type != 3"}],staticClass:"apply-box"},[a("cell",{attrs:{title:"物流信息(可随后补充)",value:"请填写产品退回邮寄信息"}})],1),e._v(" "),a("group",{directives:[{name:"show",rawName:"v-show",value:3!=e.type,expression:"type != 3"}]},[a("x-input",{attrs:{title:"快递公司",placeholder:"请输入",type:"text"},model:{value:e.backExpressCompany,callback:function(t){e.backExpressCompany=t},expression:"backExpressCompany"}}),e._v(" "),a("x-input",{attrs:{title:"快递单号",placeholder:"请输入",type:"text"},model:{value:e.backExpressNo,callback:function(t){e.backExpressNo=t},expression:"backExpressNo"}}),e._v(" "),e._l(e.photoArr,function(t,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.type||6==e.type,expression:"type == 4 || type == 6"}],key:t.index,staticClass:"photo clearfix"},[a("div",{staticClass:"photo-lef"},[e._v(e._s(t.text))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.img,expression:"item.img"}],staticClass:"shili",on:{click:function(a){return e.showImg(t.img)}}},[e._v("示例图片")]),e._v(" "),a("div",{staticClass:"img-content photo-right",on:{click:function(t){return e.imgClick(4)}}},[a("uploader",{attrs:{url:e.baseUrl+"/front/user/upload",beforeSend:e.beforeSend,onFinish:e.onFinish,onError:e.onError}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.photos[4],expression:"photos[4]"}],staticClass:"img-item"},[a("a",[a("img",{attrs:{src:e.photos[4]+"!180"}})])])])],1)])})],2),e._v(" "),a("div",{staticClass:"button clearfix"},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("actionsheet",{attrs:{menus:e.asTypeMenu},on:{"on-click-menu":e.setAsType},model:{value:e.asTypeSelected,callback:function(t){e.asTypeSelected=t},expression:"asTypeSelected"}}),e._v(" "),a("x-dialog",{staticClass:"dialog",attrs:{"hide-on-blur":""},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.image}})])],1)])},w=[];b._withStripped=!0;var N={render:b,staticRenderFns:w},k=N,_=!1,C=a("VU/8"),S=i,T=C(f,k,!1,S,null,null);T.options.__file="src/components/afterSale/afterSaleApply.vue";t.default=T.exports},ysXg:function(e,t,a){var i=a("kxFB");t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.aftersaleapply-wrapper .scroll-wrapper {\n  overflow-y: scroll;\n}\n.aftersaleapply-wrapper .clearfix:after {\n  visibility: hidden;\n  display: block;\n  font-size: 0;\n  content: \".\";\n  clear: both;\n  height: 0;\n}\n.aftersaleapply-wrapper .photo {\n  margin: 10px 15px;\n}\n.aftersaleapply-wrapper .photo-left,\n.aftersaleapply-wrapper .photo-lef {\n  float: left;\n  line-height: 1.5rem;\n}\n.aftersaleapply-wrapper .shili {\n  color: #ec6868;\n  display: inline-block;\n  line-height: 1.5rem;\n  font-size: 12px;\n  margin-left: 5px;\n}\n.aftersaleapply-wrapper .photo-right {\n  float: right;\n}\n.aftersaleapply-wrapper .weui-cell.applyReq .vux-label:after,\n.aftersaleapply-wrapper .weui-cell.applyReq .weui-label:after,\n.aftersaleapply-wrapper .vux-datetime.applyReq p:after,\n.aftersaleapply-wrapper .vux-num.applyReq p:after,\n.aftersaleapply-wrapper .photo-left:after {\n  content: '*';\n  color: #ec6868;\n  font-size: 16px;\n}\n.aftersaleapply-wrapper .vux-datetime {\n  color: #43484b;\n}\n.aftersaleapply-wrapper .weui-cell.applyNum {\n  padding-bottom: 20px;\n}\n.aftersaleapply-wrapper .apply-tip {\n  color: #ec6868;\n  font-size: 12px;\n  margin: -14px 12px 5px 12px;\n}\n.aftersaleapply-wrapper .weui-cell.situation .tip {\n  color: #ec6868;\n  font-size: 10px;\n}\n.aftersaleapply-wrapper .vux-x-textarea.weui-cell {\n  padding-top: 0px;\n}\n.aftersaleapply-wrapper .vux-x-textarea.weui-cell:before {\n  border: none;\n}\n.aftersaleapply-wrapper .vux-x-textarea.weui-cell textarea {\n  border: 1px solid #d9d9d9;\n}\n.aftersaleapply-wrapper .weui-cells {\n  font-size: 14px;\n}\n.aftersaleapply-wrapper .fr {\n  float: right;\n}\n.aftersaleapply-wrapper .apply-box {\n  margin-top: 5px;\n}\n.aftersaleapply-wrapper .apply-box .vux-cell-bd {\n  font-size: 16px;\n  text-indent: 6px;\n  color: #343434;\n}\n.aftersaleapply-wrapper .apply-box .vux-cell-bd:before {\n  content: '';\n  position: absolute;\n  left: 15px;\n  top: 13px;\n  height: 15px;\n  width: 4px;\n  background-color: #ec6868;\n}\n.aftersaleapply-wrapper .apply-box .weui-form-preview__value {\n  text-align: left;\n  color: #43484b;\n}\n.aftersaleapply-wrapper .aSaleTop {\n  background: #fff;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 15px;\n}\n.aftersaleapply-wrapper .aSaleTop p {\n  display: inline;\n  font-size: 16px;\n  color: #9b9b9b;\n}\n.aftersaleapply-wrapper .aSaleTop p span {\n  color: #43484b;\n}\n.aftersaleapply-wrapper .weui-input {\n  text-align: right;\n}\n.aftersaleapply-wrapper .weui-cells {\n  margin-top: 0;\n}\n.aftersaleapply-wrapper .img-content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0;\n  background-color: #fff;\n}\n.aftersaleapply-wrapper .img-content .img-item {\n  background: #fff;\n}\n.aftersaleapply-wrapper .img-content .img-item a {\n  width: 1.5rem;\n  height: 1.5rem;\n  text-align: center;\n  vertical-align: middle;\n  display: inline-block;\n}\n.aftersaleapply-wrapper .img-content .img-item a img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.aftersaleapply-wrapper .img-content .img-item .span-del {\n  margin-top: .06rem;\n  text-align: center;\n  font-size: 14px;\n  color: #ec6868;\n}\n.aftersaleapply-wrapper .button {\n  margin-top: 20px;\n  padding: 0 15px 15px;\n}\n.aftersaleapply-wrapper .v-uploader:after {\n  border: none;\n}\n.aftersaleapply-wrapper .v-uploader {\n  background: url("+i(a("mty2"))+") no-repeat center;\n  background-size: 100%;\n}\n.aftersaleapply-wrapper .vux-number-input {\n  font-size: 16px;\n}\n",""])}});
//# sourceMappingURL=30.525a9abab3aa24072357.js.map