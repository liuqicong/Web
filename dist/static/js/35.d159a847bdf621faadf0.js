webpackJsonp([35],{"6mtk":function(r,e,t){"use strict";function n(r){v||t("aWbB")}Object.defineProperty(e,"__esModule",{value:!0});var o=t("ABCa"),i=t("rGqP"),a=t("odqc"),s=t("Znkm"),d=t("ghf0"),c=t("/FMa"),p=(o.a,i.a,a.a,s.a,d.a,c.a,{components:{XHeader:o.a,Divider:i.a,Tab:a.a,TabItem:s.a,Scroll:d.a,Loading:c.a},data:function(){return{switchIndex:0,orderList:[],listenScroll:!0,hasMore:!0,inited:!1,switchArr:[0,1,2,6,8,7],pageNo:1}},methods:{goBack:function(){this.$util.getMachine(4)},switchTabItem:function(r){this.switchIndex=r,this.pageNo=1,this.orderList=[],this.hasMore=!0,this._getOrder(this.switchArr[this.switchIndex])},loadMore:function(){this.hasMore&&(this.pageNo++,this._getOrder(this.switchArr[this.switchIndex]))},toDetail:function(r){this.$router.push({path:"/orderDetail",query:{orderNo:r}})},_getOrder:function(r){var e=this;if(this.inited)return void this.$vux.toast.text("拼命请求中，请稍候");this.inited=!0;var t={pagingQuery:{pageIndex:this.pageNo,pageSize:20}};0!==r&&(t.orderStatus=r),this.$tupHttp(this,"front/order/getClientOrderList","POST",t).then(function(t){e.inited=!1,r===e.switchArr[e.switchIndex]&&(e.orderList=e.orderList.concat(t.data.models.map(function(r){return r.createtime=new Date(r.createtime).format("yyyy-MM-dd hh:mm:ss"),r})),t.data.models.length<20&&(e.hasMore=!1)),setTimeout(function(){e.$refs.scroll.refresh()},500)},function(){e.inited=!1}).catch(function(){e.inited=!1})}},created:function(){var r=this.$route.query.index||0;this.switchIndex=Number(r),this._getOrder(this.switchArr[Number(r)])}}),l=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("transition",{attrs:{name:"slide"}},[t("div",{staticClass:"order-wrapper page-container"},[t("x-header",{staticClass:"vux-1px-b",attrs:{title:"我的订单","left-options":{backText:"",preventGoBack:!0}},on:{"on-click-back":r.goBack}}),r._v(" "),t("div",{staticClass:"order-tab"},[t("tab",{staticStyle:{width:"100%"},attrs:{"prevent-default":"","line-width":0,"custom-bar-width":"18px"},on:{"on-before-index-change":r.switchTabItem},model:{value:r.switchIndex,callback:function(e){r.switchIndex=e},expression:"switchIndex"}},[t("tab-item",[r._v("全部")]),r._v(" "),t("tab-item",[r._v("待付款")]),r._v(" "),t("tab-item",[r._v("待发货")]),r._v(" "),t("tab-item",[r._v("待收货")]),r._v(" "),t("tab-item",[r._v("已完成")]),r._v(" "),t("tab-item",[r._v("已取消")])],1)],1),r._v(" "),t("scroll",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{listenScroll:r.listenScroll},on:{scrollToEnd:r.loadMore}},[t("div",[t("div",{staticClass:"order-content"},r._l(r.orderList,function(e,n){return t("div",{key:e.orderNo,staticClass:"order-item vux-1px-b",on:{click:function(t){return r.toDetail(e.orderNo)}}},[t("p",{staticClass:"order-no"},[r._v("订单号："),t("span",[r._v(r._s(e.orderNo))])]),r._v(" "),t("p",{staticClass:"order-time"},[r._v(r._s(e.createtime)),t("span",[r._v("合计:￥"+r._s(r.$util.formatThousand(e.mustPay)))])]),r._v(" "),t("i",{staticClass:"icon-back-"})])}),0),r._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:r.hasMore,expression:"hasMore"}],staticClass:"loading-container"},[t("loading",{attrs:{title:"数据加载中..."}})],1),r._v(" "),t("divider",{directives:[{name:"show",rawName:"v-show",value:!r.hasMore&&r.orderList.length,expression:"!hasMore && orderList.length"}]},[r._v("没有更多了...")])],1)]),r._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!r.orderList.length&&!r.inited,expression:"!orderList.length && !inited"}],staticClass:"no-result"},[t("i",{staticClass:"icon-no"}),r._v(" "),t("p",[r._v("列表空空如也~")])]),r._v(" "),t("router-view")],1)])},h=[];l._withStripped=!0;var u={render:l,staticRenderFns:h},w=u,v=!1,b=t("VU/8"),m=n,f=b(p,w,!1,m,null,null);f.options.__file="src/components/mine/order.vue";e.default=f.exports},aWbB:function(r,e,t){var n=t("g+yD");"string"==typeof n&&(n=[[r.i,n,""]]),n.locals&&(r.exports=n.locals);t("rjj0")("5d533608",n,!1,{})},"g+yD":function(r,e,t){e=r.exports=t("FZ+f")(!1),e.push([r.i,"\n.order-wrapper .order-tab {\n  width: 100%;\n  background-color: #fff;\n}\n.order-wrapper .order-tab .vux-tab-wrap {\n  padding-top: 35px;\n  margin: 0 auto;\n}\n.order-wrapper .order-tab .vux-tab-container,\n.order-wrapper .order-tab .vux-tab {\n  height: 35px;\n}\n.order-wrapper .order-tab .vux-tab-item {\n  line-height: 35px;\n  background: none;\n}\n.order-wrapper .order-tab .vux-tab-selected {\n  position: relative;\n  font-weight: bold;\n}\n.order-wrapper .order-tab .vux-tab-selected:after {\n  content: '';\n  width: 18px;\n  height: 3px;\n  background-color: #ec6868;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.order-wrapper .order-tab .scrollable {\n  padding-bottom: 0;\n}\n.order-wrapper .order-tab .scrollable .vux-tab-item {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.order-wrapper .order-tab .scrollable .vux-tab-ink-bar {\n  bottom: 0;\n}\n.order-wrapper .scroll-wrapper {\n  top: 84px;\n}\n.order-wrapper .scroll-wrapper .order-content {\n  background-color: #fff;\n}\n.order-wrapper .scroll-wrapper .order-content .order-item {\n  padding: 10px 0;\n  margin: 0 15px;\n  position: relative;\n}\n.order-wrapper .scroll-wrapper .order-content .order-item .order-no {\n  font-size: 14px;\n  color: #343434;\n}\n.order-wrapper .scroll-wrapper .order-content .order-item .order-no span {\n  font-weight: bold;\n}\n.order-wrapper .scroll-wrapper .order-content .order-item .order-time {\n  font-size: 12px;\n  color: #9b9b9b;\n}\n.order-wrapper .scroll-wrapper .order-content .order-item .order-time span {\n  margin-left: 25px;\n}\n.order-wrapper .scroll-wrapper .order-content .order-item i {\n  position: absolute;\n  right: 0;\n  top: 40%;\n  color: #d5d5d5;\n  font-size: 14px;\n}\n.order-wrapper .loading-container {\n  margin-top: 20px;\n}\n.order-wrapper .no-result {\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  top: 40%;\n  color: #c9c9c9;\n}\n.order-wrapper .no-result i {\n  font-size: 90px;\n}\n.order-wrapper .no-result p {\n  font-size: 15px;\n}\n",""])}});
//# sourceMappingURL=35.d159a847bdf621faadf0.js.map