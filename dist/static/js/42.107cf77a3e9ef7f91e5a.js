webpackJsonp([42],{EkbL:function(e,t,a){"use strict";function r(e){I||a("HEXY")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("rHil"),i=a("pDNl"),n=a("2sLL"),s=a("UNGY"),p=a("ABCa"),l=a("1DHf"),d=a("Msp2"),c=a("ALGc"),f=a("jHVj"),v=a("iFAF"),u=a("62KO"),x=a("/kga"),_=a("ujWF"),m=a("XNLL"),h=(i.a,o.a,n.a,p.a,s.a,l.a,d.a,c.a,m.a,f.a,v.a,u.a,x.a,{data:function(){return{baseUrl:"https://api.tupperware.com.cn",img8:a("vF2x"),dialogVisible:!1,image:"",orderInfo:"",typeText:"",withdraw:!1,backExpressNo:"",backExpressCompany:"",photoLabel:"",photoArr1:[{text:"物流标签(正面)",img:"img1"},{text:"重量喷码(背面)",img:"img2"},{text:"箱单内容(箱内)",img:"img3"},{text:"多发实物",img:""},{text:"整箱称重",img:"img4"}],photoArr2:[{text:"物流标签(正面)",img:"img1"},{text:"重量喷码(背面)",img:"img2"},{text:"箱单内容(箱内)",img:"img3"},{text:"错发实物",img:""},{text:"整箱称重",img:"img4"}],photoArr3:[{text:"物流标签(正面)",img:"img1"},{text:"重量喷码(背面)",img:"img2"},{text:"箱单内容(箱内)",img:"img3"},{text:"整箱完整全图",img:"img5"},{text:"整箱称重",img:"img4"}],photoArr4:[{text:"产品破损照片",img:""},{text:"整箱完整全图",img:""},{text:"物流标签(正面)",img:"img1"},{text:"补充照片",img:""}],photoArr6:[{text:"产品缺陷照片",img:""},{text:"补充照片",img:""},{text:"补充照片",img:""},{text:"补充照片",img:""}],photoArr:[{text:"产品退回快递单照片",img:"img8"}],photos:["","","","",""]}},methods:{goBack:function(){this.$router.push({path:"/afterSaleList",query:{index:this.$route.query.index}})},showImg:function(e){this.image=e,this.dialogVisible=!0},showImg1:function(e){this.image=this[e],this.dialogVisible=!0},toOrder:function(e){this.$router.push({path:"/orderDetail",query:{orderNo:e}})},setType:function(e){switch(e){case 1:this.typeText="多发";break;case 2:this.typeText="错发";break;case 3:this.typeText="漏发";break;case 4:this.typeText="到货残次";break;case 6:this.typeText="质量评估"}this.photoLabel=this["photoArr"+e]},setClientStatus:function(e){var t="";switch(e){case 1:t="审核中";break;case 2:t="已完成";break;case 3:t="未通过";break;case 4:t="已撤回"}return t},setStatus:function(e){var t="";switch(e){case 1:t="待物流审核";break;case 3:t="物流已审核";break;case 4:t="物流不同意";break;case 5:t="客服不同意";break;case 6:case 7:t="客服已审核";break;case 9:t="未能生成售后订单";break;case 10:t="特殊处理";break;case 11:t="已生成售后订单"}return t},beforeSend:function(e){if(Object(_.f)(this,e))return this.$vux.loading.show({text:"图片上传中，请稍候"}),!0},onFinish:function(e){this.$vux.loading.hide(),this.photos.splice(4,1,e.model)},onError:function(){this.$vux.loading.hide(),this.$vux.toast.text("上传失败，请重试~")},submit:function(){var e=this;if(Object(_.d)(this,this.backExpressCompany,"快递公司")&&Object(_.d)(this,this.backExpressNo,"快递单号")&&Object(_.d)(this,this.photos[4],"产品退回快递单照片")){var t=[{backExpressCompany:this.backExpressCompany,backExpressNo:this.backExpressNo,photos:this.photos,id:this.id}];this.$tupHttp(this,"front/declaration/updateDeclaration","POST",t).then(function(t){e.$vux.toast.text("提交成功"),setTimeout(function(){e.$router.go(-1)},1e3)})}},toEdit:function(){this.$router.push({path:"/afterSaleEdit",query:{index:0,id:this.id}})},toWithdraw:function(){this.withdraw=!0},onWithdraw:function(){var e=this,t=[{status:2,id:this.id}];this.$tupHttp(this,"front/declaration/updateDeclaration","POST",t).then(function(t){e.$vux.toast.text("撤回成功"),setTimeout(function(){e.$router.push({path:"/afterSaleList",query:{index:e.$route.query.index}})},1e3)})},_getDetail:function(){var e=this;this.$tupHttp(this,"front/declaration/getDeclaration?id="+this.id).then(function(t){e.orderInfo=t.data.model,e.setType(e.orderInfo.type),e.orderInfo.clientStatusText=e.setClientStatus(e.orderInfo.clientStatus),e.orderInfo.statusText=e.setStatus(e.orderInfo.status),e.orderInfo.createTime=new Date(e.orderInfo.createTime).format("yyyy-MM-dd hh:mm:ss"),e.orderInfo.receivedDate=e.orderInfo.receivedDate?new Date(e.orderInfo.receivedDate).format("yyyy-MM-dd hh:mm:ss"):e.orderInfo.receivedDate,e.orderInfo.logisticsAuditTime=e.orderInfo.logisticsAuditTime?new Date(e.orderInfo.logisticsAuditTime).format("yyyy-MM-dd hh:mm:ss"):e.orderInfo.logisticsAuditTime,e.orderInfo.serviceAuditTime=e.orderInfo.serviceAuditTime?new Date(e.orderInfo.serviceAuditTime).format("yyyy-MM-dd hh:mm:ss"):e.orderInfo.serviceAuditTime,e.backExpressCompany=e.orderInfo.backExpressCompany,e.backExpressNo=e.orderInfo.backExpressNo,e.photos=e.$util.deepClone(e.orderInfo.photos),e.orderInfo.exchangeProductVos&&(e.orderInfo.exchangeProductVos=e.orderInfo.exchangeProductVos.map(function(e){return e.supplyTime=e.supplyTime?new Date(e.supplyTime).format("yyyy-MM-dd hh:mm:ss"):e.supplyTime,e}))})}},created:function(){this.id=this.$route.query.id,this.id&&this._getDetail()},components:{XInput:i.a,Group:o.a,XButton:n.a,XHeader:p.a,Datetime:s.a,Cell:l.a,Actionsheet:d.a,XTextarea:c.a,Uploader:m.a,CellFormPreview:f.a,InlineXNumber:v.a,Confirm:u.a,XDialog:x.a}}),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"aftersaledetail-wrapper page-container"},[a("x-header",{staticClass:"header",attrs:{"left-options":{backText:"",preventGoBack:!0},title:"售后申请记录详情"},on:{"on-click-back":e.goBack}}),e._v(" "),a("div",{staticClass:"scroll-wrapper"},[a("div",{staticClass:"aSaleTop"},[a("p",[e._v("申报号:"),a("span",[e._v(e._s(e.orderInfo.sbno))])]),e._v(" "),a("p",{staticClass:"fr"},[e._v("申报类型:"),a("span",[e._v(e._s(e.typeText))])])]),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"售后申请状态"}},[1===e.orderInfo.clientStatus?a("span",{on:{click:function(t){return e.toWithdraw()}}},[e._v("撤回申请")]):e._e(),e._v(" "),3===e.orderInfo.clientStatus?a("span",{on:{click:function(t){return e.toEdit()}}},[e._v("修改申请")]):e._e()]),e._v(" "),a("div",{staticClass:"apply-box-item vux-1px-t"},[a("p",[e._v("申请时间："),a("span",[e._v(e._s(e.orderInfo.createTime))])]),e._v(" "),a("p",[e._v("审核状态："),a("span",[e._v(e._s(e.orderInfo.clientStatusText)),e.orderInfo.statusText?a("span",[e._v("("+e._s(e.orderInfo.statusText)+")")]):e._e()])]),e._v(" "),e.orderInfo.specialHandleRemark?a("p",[e._v("特殊处理理由："),a("span",[e._v(e._s(e.orderInfo.specialHandleRemark))])]):e._e(),e._v(" "),a("p",[e._v("物流审核时间："),a("span",[e._v(e._s(e.orderInfo.logisticsAuditTime))])]),e._v(" "),a("p",[e._v("物流审核意见："),a("span",[e._v(e._s(e.orderInfo.logisticsAuditReason))])]),e._v(" "),a("p",[e._v("物流审核备注："),a("span",[e._v(e._s(e.orderInfo.logisticsAuditRemark))])]),e._v(" "),a("p",[e._v("客服审核时间："),a("span",[e._v(e._s(e.orderInfo.serviceAuditTime))])]),e._v(" "),a("p",[e._v("客服审核意见："),a("span",[e._v(e._s(e.orderInfo.serviceAuditReason))])]),e._v(" "),a("p",[e._v("客服审核备注："),a("span",[e._v(e._s(e.orderInfo.serviceAuditRemark))])]),e._v(" "),11===e.orderInfo.status?a("p",[e._v("售后订单编号："),a("span",{staticStyle:{"text-decoration":"underline",color:"#ec6868"},on:{click:function(t){return e.toOrder(e.orderInfo.newOrderNo)}}},[e._v(e._s(e.orderInfo.newOrderNo))])]):e._e()])],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"申报信息"}}),e._v(" "),a("div",{staticClass:"apply-box-item vux-1px-t"},[a("p",[e._v("申报产品编号："),a("span",[e._v(e._s(e.orderInfo.declarationProductNo))])]),e._v(" "),a("p",[e._v("申报产品名称："),a("span",[e._v(e._s(e.orderInfo.declarationProductName))])]),e._v(" "),a("p",[e._v("申报数量："),a("span",[e._v(e._s(e.orderInfo.declarationQuantity))])]),e._v(" "),a("p",[e._v("申报单位："),a("span",[e._v(e._s(e.orderInfo.declarationUnit))])]),e._v(" "),a("p",[e._v("情况说明："),a("span",[e._v(e._s(e.orderInfo.description))])])])],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"申报信息(物流主管)"}}),e._v(" "),a("div",{staticClass:"apply-box-item vux-1px-t"},[a("p",[e._v("申报产品编号："),a("span",[e._v(e._s(e.orderInfo.expressDeclarationProductNo))])]),e._v(" "),a("p",[e._v("申报产品名称："),a("span",[e._v(e._s(e.orderInfo.expressDeclarationProductName))])]),e._v(" "),a("p",[e._v("申报数量："),a("span",[e._v(e._s(e.orderInfo.expressDeclarationQuantity))])]),e._v(" "),a("p",[e._v("申报单位："),a("span",[e._v(e._s(e.orderInfo.expressDeclarationUnit))])]),e._v(" "),a("p",[e._v("情况说明："),a("span",[e._v(e._s(e.orderInfo.expressDeclarationReason))])])])],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"申报信息(客服)"}}),e._v(" "),a("div",{staticClass:"apply-box-item vux-1px-t"},[a("p",[e._v("申报产品编号："),a("span",[e._v(e._s(e.orderInfo.serviceDeclarationProductNo))])]),e._v(" "),a("p",[e._v("申报产品名称："),a("span",[e._v(e._s(e.orderInfo.serviceDeclarationProductName))])]),e._v(" "),a("p",[e._v("申报数量："),a("span",[e._v(e._s(e.orderInfo.serviceDeclarationQuantity))])]),e._v(" "),a("p",[e._v("申报单位："),a("span",[e._v(e._s(e.orderInfo.serviceDeclarationUnit))])]),e._v(" "),a("p",[e._v("情况说明："),a("span",[e._v(e._s(e.orderInfo.serviceDeclarationReason))])])])],1),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"订单信息"}}),e._v(" "),a("div",{staticClass:"apply-box-item vux-1px-t"},[a("p",[e._v("订单号："),a("span",[e._v(e._s(e.orderInfo.orderNo))])]),e._v(" "),a("p",[e._v("产品编号："),a("span",[e._v(e._s(e.orderInfo.productNo))])]),e._v(" "),a("p",[e._v("产品名称："),a("span",[e._v(e._s(e.orderInfo.productName))])]),e._v(" "),a("p",[e._v("订购数量："),a("span",[e._v(e._s(e.orderInfo.quantity))])]),e._v(" "),a("p",[e._v("订购单价："),a("span",[e._v(e._s(e.orderInfo.unitPrice))])])])],1),e._v(" "),e._l(e.orderInfo.exchangeProductVos,function(t){return 1===e.orderInfo.isEqualExchange?a("group",{key:t.index,staticClass:"apply-box"},[a("cell",{attrs:{title:"更换产品信息"}}),e._v(" "),a("div",{staticClass:"apply-box-item vux-1px-t"},[a("p",[e._v("产品名称："),a("span",[e._v(e._s(t.supplyProductName))])]),e._v(" "),a("p",[e._v("产品编号："),a("span",[e._v(e._s(t.supplyProductNo))])]),e._v(" "),a("p",[e._v("订单数量："),a("span",[e._v(e._s(t.supplyNumber))])]),e._v(" "),a("p",[e._v("订单单位："),a("span",[e._v(e._s(t.supplyUnit))])]),e._v(" "),a("p",[e._v("更换时间："),a("span",[e._v(e._s(t.supplyTime))])])])],1):e._e()}),e._v(" "),a("group",{staticClass:"apply-box"},[a("cell",{attrs:{title:"申报图片"}})],1),e._v(" "),a("group",e._l(e.photoLabel,function(t,r){return a("div",{key:t.index,staticClass:"photo clearfix"},[a("div",{staticClass:"photo-left"},[e._v(e._s(t.text))]),e._v(" "),a("div",{staticClass:"img-content photo-right"},[a("div",{staticClass:"img-item"},[a("a",[a("img",{attrs:{src:e.orderInfo.photos[r]+"!180"},on:{click:function(t){return e.showImg(e.orderInfo.photos[r])}}})])])])])}),0),e._v(" "),3!=e.orderInfo.type?a("div",[a("group",{staticClass:"apply-box"},[e.orderInfo.backExpressCompany&&e.orderInfo.backExpressNo&&e.orderInfo.photos[4]?a("cell",{attrs:{title:"产品退回物流信息"}}):a("cell",{attrs:{title:"产品退回物流信息",value:"请填写产品退回邮寄信息"}})],1),e._v(" "),a("group",[a("x-input",{staticClass:"applyReq",attrs:{title:"快递公司",placeholder:"请输入",type:"text"},model:{value:e.backExpressCompany,callback:function(t){e.backExpressCompany=t},expression:"backExpressCompany"}}),e._v(" "),a("x-input",{staticClass:"applyReq",attrs:{title:"快递单号",placeholder:"请输入",type:"text"},model:{value:e.backExpressNo,callback:function(t){e.backExpressNo=t},expression:"backExpressNo"}}),e._v(" "),e._l(e.photoArr,function(t,r){return a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.orderInfo.type||6==e.orderInfo.type,expression:"orderInfo.type == 4 || orderInfo.type == 6"}],key:t.index,staticClass:"photo clearfix"},[a("div",{staticClass:"photo-lef"},[e._v(e._s(t.text))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.img,expression:"item.img"}],staticClass:"shili",on:{click:function(a){return e.showImg1(t.img)}}},[e._v("示例图片")]),e._v(" "),a("div",{staticClass:"img-content photo-right"},[a("uploader",{attrs:{url:e.baseUrl+"/front/user/upload",beforeSend:e.beforeSend,onFinish:e.onFinish,onError:e.onError}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.photos[4],expression:"photos[4]"}],staticClass:"img-item"},[a("a",[a("img",{attrs:{src:e.photos[4]+"!180"}})])])])],1)])})],2),e._v(" "),e.orderInfo.backExpressCompany&&e.orderInfo.backExpressNo&&e.orderInfo.photos[4]?e._e():a("div",{staticClass:"button clearfix"},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("提交物流信息")])],1)],1):e._e()],2),e._v(" "),a("confirm",{attrs:{title:"您确认要撤回申请？"},on:{"on-confirm":e.onWithdraw},model:{value:e.withdraw,callback:function(t){e.withdraw=t},expression:"withdraw"}}),e._v(" "),a("x-dialog",{staticClass:"dialog",attrs:{"hide-on-blur":""},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.image}})])],1)])},b=[];g._withStripped=!0;var y={render:g,staticRenderFns:b},w=y,I=!1,k=a("VU/8"),C=r,T=k(h,w,!1,C,null,null);T.options.__file="src/components/afterSale/afterSaleDetail.vue";t.default=T.exports},HEXY:function(e,t,a){var r=a("WMVv");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("da0a8f50",r,!1,{})},WMVv:function(e,t,a){var r=a("kxFB");t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.aftersaledetail-wrapper .scroll-wrapper {\n  overflow-y: scroll;\n}\n.aftersaledetail-wrapper .clearfix:after {\n  visibility: hidden;\n  display: block;\n  font-size: 0;\n  content: \".\";\n  clear: both;\n  height: 0;\n}\n.aftersaledetail-wrapper .photo {\n  margin: 10px 15px;\n}\n.aftersaledetail-wrapper .photo-left,\n.aftersaledetail-wrapper .photo-lef {\n  float: left;\n  line-height: 1.5rem;\n  width: 126px;\n  text-align: right;\n}\n.aftersaledetail-wrapper .shili {\n  color: #ec6868;\n  display: inline-block;\n  line-height: 1.5rem;\n  font-size: 12px;\n  margin-left: 5px;\n}\n.aftersaledetail-wrapper .photo-right {\n  float: right;\n}\n.aftersaledetail-wrapper .weui-cell.applyReq .vux-label:after,\n.aftersaledetail-wrapper .weui-cell.applyReq .weui-label:after,\n.aftersaledetail-wrapper .vux-datetime.applyReq p:after {\n  content: '*';\n  color: #ec6868;\n  font-size: 16px;\n}\n.aftersaledetail-wrapper .vux-datetime {\n  color: #43484b;\n}\n.aftersaledetail-wrapper .vux-x-textarea.weui-cell {\n  padding-top: 0px;\n}\n.aftersaledetail-wrapper .vux-x-textarea.weui-cell:before {\n  border: none;\n}\n.aftersaledetail-wrapper .vux-x-textarea.weui-cell textarea {\n  border: 1px solid #d9d9d9;\n}\n.aftersaledetail-wrapper .weui-cells {\n  font-size: 14px;\n}\n.aftersaledetail-wrapper .fr {\n  float: right;\n}\n.aftersaledetail-wrapper .apply-box {\n  margin-top: 5px;\n}\n.aftersaledetail-wrapper .apply-box .vux-cell-bd {\n  font-size: 16px;\n  text-indent: 6px;\n  color: #343434;\n}\n.aftersaledetail-wrapper .apply-box .vux-cell-bd:before {\n  content: '';\n  position: absolute;\n  left: 15px;\n  top: 13px;\n  height: 15px;\n  width: 4px;\n  background-color: #ec6868;\n}\n.aftersaledetail-wrapper .apply-box .weui-form-preview__value {\n  text-align: left;\n  color: #43484b;\n}\n.aftersaledetail-wrapper .apply-box .apply-box-item {\n  padding: 10px 0;\n  margin: 0 15px;\n  font-size: 12px;\n}\n.aftersaledetail-wrapper .apply-box .apply-box-item p {\n  color: #999;\n  line-height: 25px;\n}\n.aftersaledetail-wrapper .apply-box .apply-box-item p span {\n  color: #43484b;\n}\n.aftersaledetail-wrapper .aSaleTop {\n  background: #fff;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 10px;\n}\n.aftersaledetail-wrapper .aSaleTop p {\n  display: inline;\n  font-size: 16px;\n  color: #9b9b9b;\n}\n.aftersaledetail-wrapper .aSaleTop p span {\n  color: #43484b;\n}\n.aftersaledetail-wrapper .weui-input {\n  text-align: right;\n}\n.aftersaledetail-wrapper .weui-cells {\n  margin-top: 0;\n}\n.aftersaledetail-wrapper .img-content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0;\n  background-color: #fff;\n}\n.aftersaledetail-wrapper .img-content .img-item {\n  background: #fff;\n}\n.aftersaledetail-wrapper .img-content .img-item a {\n  width: 1.5rem;\n  height: 1.5rem;\n  text-align: center;\n  vertical-align: middle;\n  display: inline-block;\n}\n.aftersaledetail-wrapper .img-content .img-item a img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.aftersaledetail-wrapper .img-content .img-item .span-del {\n  margin-top: .06rem;\n  text-align: center;\n  font-size: 14px;\n  color: #ec6868;\n}\n.aftersaledetail-wrapper .button {\n  margin-top: 20px;\n  padding: 0 15px 15px;\n}\n.aftersaledetail-wrapper .v-uploader:after {\n  border: none;\n}\n.aftersaledetail-wrapper .v-uploader {\n  background: url("+r(a("mty2"))+") no-repeat center;\n  background-size: 100%;\n}\n",""])}});
//# sourceMappingURL=42.107cf77a3e9ef7f91e5a.js.map