webpackJsonp([28],{"4D7z":function(e,t,i){"use strict";function n(e){m||i("QGMX")}Object.defineProperty(t,"__esModule",{value:!0});var s=i("ABCa"),a=i("rGqP"),r=i("UNGY"),o=i("Msp2"),c=i("ghf0"),l=i("/FMa"),p=(s.a,a.a,c.a,l.a,r.a,o.a,{components:{XHeader:s.a,Divider:a.a,Scroll:c.a,Loading:l.a,Datetime:r.a,Actionsheet:o.a},data:function(){return{disArr:[],listenScroll:!0,hasMore:!0,pageNo:1,time:"",online:"",visibility:!1,inited:!1,pullup:!0,typeMenu:{"":"全部",1:"线上充值",0:"线下充值",2:"工行到账伴侣充值"},typeSelected:!1,typeName:"全部"}},methods:{onCancel:function(){this.time="",this._getDiscountList()},setType:function(e,t){this.online=e,this.typeName=t,this.pageNo=1,this.disArr=[],this.hasMore=!0,this._getDiscountList()},loadMore:function(){this.hasMore&&(this.pageNo++,this._getDiscountList())},toDetail:function(e){this.$router.push({path:"/rechargeDetail",query:{id:e}})},change:function(){this.pageNo=1,this.disArr=[],this.hasMore=!0,this._getDiscountList()},formatePrice:function(e){return e/100},_getDiscountList:function(){var e=this;if(this.inited)return void this.$vux.toast.text("拼命请求中，请稍候");this.inited=!0;var t={pagingQuery:{pageIndex:this.pageNo,pageSize:20},online:"0"===this.online?0:"1"===this.online?1:this.online};this.time&&(t.startTime=this.time+"-01",t.endTime=this.$util.getMonthLastDay(this.time)),this.$tupHttp(this,"front/account/charge/list/v1","POST",t).then(function(t){e.inited=!1;var i=t.data.models.map(function(t){return t.amount=e.formatePrice(t.amount),t.createTime=new Date(t.createTime).format("yyyy-MM-dd hh:mm:ss"),t.auditStatus?"8796113240155"===t.auditStatus||"8796113272923"===t.auditStatus?t.status="审核中":"8796113305691"===t.auditStatus||"8796113371227"===t.auditStatus?t.status="审核未通过":"8796113338459"===t.auditStatus&&(t.status="审核通过"):t.status=1===t.payStatus?"充值成功":"充值失败",t});1!==e.pageNo||e.disArr.length?e.disArr=e.disArr.concat(i):e.disArr=i,t.data.models.length<20&&(e.hasMore=!1),setTimeout(function(){e.$refs.scroll.refresh()},500)},function(){e.inited=!1}).catch(function(){e.inited=!1})}},created:function(){this._getDiscountList()}}),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"slide"}},[i("div",{staticClass:"rechargeList-wrapper page-container"},[i("x-header",{staticClass:"vux-1px-b",attrs:{title:"充值流水","left-options":{backText:""}}}),e._v(" "),i("div",{staticClass:"select-wrapper"},[i("div",[i("span",{staticClass:"time"},[e._v("时间：")]),i("div",{staticClass:"select",class:{chose:e.time},on:{click:function(t){e.visibility=!0}}},[e._v(e._s(e.time||"请选择查询时间")),i("i",{staticClass:"icon-down"})])]),e._v(" "),i("div",[i("span",{staticClass:"time"},[e._v("支付方式：")]),i("div",{staticClass:"select chose",on:{click:function(t){e.typeSelected=!0}}},[e._v(e._s(e.typeName)),i("i",{staticClass:"icon-down"})])])]),e._v(" "),i("datetime",{attrs:{format:"YYYY-MM",show:e.visibility,"cancel-text":"重置"},on:{"update:show":function(t){e.visibility=t},"on-change":e.change,"on-cancel":e.onCancel},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.typeMenu},on:{"on-click-menu":e.setType},model:{value:e.typeSelected,callback:function(t){e.typeSelected=t},expression:"typeSelected"}}),e._v(" "),i("scroll",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{listenScroll:e.listenScroll,pullup:e.pullup},on:{scrollToEnd:e.loadMore}},[i("div",[e._l(e.disArr,function(t,n){return i("div",{key:n.id,staticClass:"dis-content"},[i("div",{staticClass:"dis-item",class:{"vux-1px-b":n!==e.disArr.length-1},on:{click:function(i){return e.toDetail(t.id)}}},[i("i",{class:{"icon-zhifubao":"支付宝"===t.bank,"icon-zhaoshangyinhang":"招商银行"===t.bank,"icon-jiansheyinhang":"建设银行"===t.bank,"icon-gongshangyinhang":t.bank.indexOf("工商银行")>=0||"工行到账伴侣"===t.bank}}),e._v(" "),i("p",[i("span",{staticClass:"dis-name"},[e._v(e._s(1==t.online?"线上":2==t.online?"工行到账伴侣":"线下")+"充值-"+e._s(t.type))]),e._v(" "),i("span",{staticClass:"dis-money"},[e._v("+"+e._s(e.$util.formatThousand(t.amount)))])]),e._v(" "),i("p",{staticClass:"dis-s"},[i("span",{staticClass:"dis-time"},[e._v(e._s(t.createTime))]),e._v(" "),i("span",{staticClass:"dis-status",class:{success:"充值成功"===t.status||"审核通过"===t.status,fail:"充值失败"===t.status||"审核未通过"===t.status}},[e._v(e._s(t.status))])])])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasMore,expression:"hasMore"}],staticClass:"loading-container"},[i("loading",{attrs:{title:"数据加载中..."}})],1),e._v(" "),i("divider",{directives:[{name:"show",rawName:"v-show",value:!e.hasMore&&e.disArr.length,expression:"!hasMore && disArr.length"}]},[e._v("没有更多了...")])],2)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disArr.length&&!e.inited,expression:"!disArr.length && !inited"}],staticClass:"no-result"},[i("i",{staticClass:"icon-no"}),e._v(" "),i("p",[e._v("暂无充值流水数据")])])],1)])},h=[];d._withStripped=!0;var u={render:d,staticRenderFns:h},g=u,m=!1,f=i("VU/8"),w=n,v=f(p,g,!1,w,null,null);v.options.__file="src/components/mine/rechargeList.vue";t.default=v.exports},"4hRD":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"\n.rechargeList-wrapper .select-wrapper {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-color: #fff;\n  height: 35px;\n  line-height: 35px;\n}\n.rechargeList-wrapper .select-wrapper > div {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.rechargeList-wrapper .select-wrapper .time {\n  color: #9b9b9b;\n  text-indent: 20px;\n}\n.rechargeList-wrapper .select {\n  text-align: center;\n}\n.rechargeList-wrapper .select.chose {\n  color: #ec6868;\n  font-weight: bold;\n}\n.rechargeList-wrapper .select i {\n  font-size: 14px;\n  margin-left: 5px;\n  font-weight: normal;\n}\n.rechargeList-wrapper .vux-datetime-value {\n  opacity: 0;\n}\n.rechargeList-wrapper .scroll-wrapper {\n  top: 85px;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content {\n  background-color: #fff;\n  padding: .14rem .3rem 0;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item {\n  color: #343434;\n  position: relative;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item i {\n  position: absolute;\n  line-height: 50px;\n  font-size: 50px;\n  left: -8px;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .icon-zhifubao {\n  color: #4ebcee;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .icon-zhaoshangyinhang {\n  color: #f57b51;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .icon-jiansheyinhang {\n  color: #769dd2;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .icon-gongshangyinhang {\n  color: #f17676;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item p {\n  margin-left: 45px;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item span {\n  display: inline-block;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .dis-name {\n  font-size: 14px;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .dis-money {\n  float: right;\n  font-size: 14px;\n  font-weight: bold;\n  color: #343434;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .dis-s {\n  color: #9b9b9b;\n  padding: .1rem 0;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .dis-status {\n  float: right;\n  color: #9b9b9b;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .dis-status.success {\n  color: #66af6e;\n}\n.rechargeList-wrapper .scroll-wrapper .dis-content .dis-item .dis-status.fail {\n  color: #ec6868;\n}\n.rechargeList-wrapper .no-result {\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  top: 40%;\n  color: #c9c9c9;\n}\n.rechargeList-wrapper .no-result i {\n  font-size: 90px;\n}\n.rechargeList-wrapper .no-result p {\n  font-size: 15px;\n}\n.rechargeList-wrapper .loading-container {\n  margin-top: 20px;\n}\n",""])},QGMX:function(e,t,i){var n=i("4hRD");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("3f090282",n,!1,{})}});
//# sourceMappingURL=28.d9b3ad679a8a15fa6b1b.js.map