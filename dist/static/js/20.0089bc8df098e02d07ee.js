webpackJsonp([20],{"+mVc":function(t,s,i){var n=i("zaEM");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("0ccd7f60",n,!1,{})},"+tJK":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJGRTZEQUMxRUVDNDExRTg5QjBBQzFCQTA4NzI2MEQzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJGRTZEQUMyRUVDNDExRTg5QjBBQzFCQTA4NzI2MEQzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkZFNkRBQkZFRUM0MTFFODlCMEFDMUJBMDg3MjYwRDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkZFNkRBQzBFRUM0MTFFODlCMEFDMUJBMDg3MjYwRDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6u0sbOAAAFlElEQVR42txbfUyVVRj/XaRIASk1N2U2SxPWhx9IAy2zlks324oYGFCmuTJdlFabVtiHRn/Yx1bmtLZIzawgqK3m1ueciMCWZk7cMgf2ZWw6MTBu5OD2ezjPVcCL3I/33A+e7bfLuO97nuf3nvec5/ecc67LswI27FIii5hBTCLSiauIy4lkvaaNOE38QTQSh4gaop74z+mA4h1sS0jkEbnELGLYANcnK8bpA/FaO1FNVBKfEi1OBOdyoEdvIJ4iFhBDHe4IN/EJ8br2eNAWF8K944ly4idikQWS0DYXqY9y9Rk2ojL+niUO66saB/sWp77E53Mag1Wi1xJ7iVJLPehPD79M1GksVojmED8Q0xF5m6ax3Os00eVEBTEc0WPDddwud4roGmIjMQTRZ0M0tjWhEl1GrEX021qNNSii8v5vQOzYBhUrARGdSJRF6et6sde4TGP3i2iCqpEUxJ55J6gEf7SuyLkMv5tOGQsUbmVWu4OC0uV86B4PcORbYMeDQOtf/qaepzXX96t1r1ZNOczvQJZ9w7tuBmrfpTI9bUEisFaY+ShwdBfwzjx/72pXDd7UX4+WBkSyWyuxJ3e/CXy+0uIbyTdlVnEgNwiHV4gCX2NUJFV+4DEwiH//tjvy3C3BDIt8rYUvILoqxmZZfzTCqr5EpQC+D4PPFnhXNOJ6iIPEiISSOhW4+zUWXlbcJ3qFv5do+HtTxtxsTvkr681Ek5Jqy1OBd9aVIvbWsJJMGg0UMfemM12cOAJsKzCfdkzWrxKEaHbAKSUUS59LktsM2Xoqts+eADrO2PQo3LKE6IywEIynKpvP1HbbkyYdbeU8caA8XI83W8boZOtuRqcBK2oNyaYaYP0U3yQnzAZWH+ajf9jpCNKkR6+x+yyXADlUTpcMBb56Cfh6HdDV2SfjMYx5LwJzngHOuoFTx6wQHWuFoGjUfOrfqXlAy2/A9iKgcc+F143kc75/OzCeI+j3fZyYmABOHnU8iQnRK6wQfWSnCf5ABVCxlDLbx4J7RiGQt4lzInP69+uBnSVA51kb0STH4/xeiLO2ZyNQ/Tawf4ePijcJyOX3Ny00pdf7uaYUs2fJ8daa3veh7/+PywQWfgyMmgA0fAl8tBj456T9SR9mVyvZuicXJ/jbWQ/PLzWTUVWx6XUprO1bmxBtsU406UrgAb7Ck+YAzUwfH1AJHT8YTi3WJnn0uHU3WQ8Zkns3A29khpuk2J/So40qA+3Z7rfMeGxuiFS59rMQlcdbaNWNiICBSKZOY+7tZ+FxxHhHiNZGvDwWwTC9aIBR1hyKhzohKltw7WGtYHramBsNyarH+Xp/0fu7UROBxZXm7/fuCdaDcKuXyUgORlRHrDcTR5pPISka1wvRv4VbzHeb7wR+rQ/Wg3Dr8K4wVEbVSo/05GO7jDQMjeQ5bl6icvrDPQhJupXbOaIiGsoHGUmxCuXWa133VcIziEh6lBP6Em3QJxBgc2zvMgc23mR2dY6ktzcP9RT1PW01cVdAqeaX74CZS83yZTCbTD3FgHMk25XL+ZrCx8kxOUNU6neTTmwbSk1aluMUSbESDLBt2F0Ww5wlykBs2o8wK5sdvZalfFwoF8ieRWsMkpSY8/uS7I+omKxOLSE6Y4hkp8bsc2XtYqdSJNEWxxDRYq84CJSo2CbihRgg+bzGimCJislhJZYW6IpCgl0a27qBLvT3LKAcVsqLsgmqVWPy69BXIKc7q4hMYn+UpJBMjQlOE+3WQZqjSiJU7bjVd7bGAltEoYW6qI7rVE+GY+x61Nf16jvgX1GEckz8mCbnKcQWSz3s1rYnq6+mYBtyOfi7lxE6OcjhiFsQ/BqUCPIaXRmQXjzlRHAuiz/wyVakKcbA7Nwl6TVntCg+AbO2fFA1dh0s/MDnfwEGAKfpW5eMl7gSAAAAAElFTkSuQmCC"},LZzw:function(t,s,i){"use strict";function n(t){u||i("+mVc")}Object.defineProperty(s,"__esModule",{value:!0});var a=i("ABCa"),e=i("odqc"),o=i("Znkm"),c=i("UNGY"),l=(a.a,e.a,o.a,c.a,{data:function(){return{switchIndex:0,draft:{list:"",stockEndTime:"",stockProductClientSimpleDTO:"",type:0},year:(new Date).getFullYear().toString(),stockList:[],stock:{list:"",stockEndTime:"",stockProductClientSimpleDTO:""},ifShowYear:!1,stockIcon:i("+tJK")}},watch:{year:function(t){this._getStock(this.switchIndex)}},methods:{goBack:function(){this.$util.getMachine(4)},changeYear:function(){this.ifShowYear=!0},changeDate:function(){},formatThousand:function(t,s){var i=0;s&&(i=s);var n=/(^|\s)\d+(?=\.?\d*($|\s))/g,a=/(?=(?!\b)(\d{3})+\.?\b)/g;return t?t.toFixed(i).toString().replace(n,function(t){return t.replace(a,",")}):(0).toFixed(i)},switchTabItem:function(t){this.switchIndex=t,this._getStock(t)},toAdd:function(){this.$router.push({path:"/addStock"})},toStockDetail:function(t,s){s?this.$router.push({path:"/addStock",query:{stockId:t}}):this.$router.push({path:"/stockView",query:{stockId:t}})},_getStock:function(t){var s=this;this.switchIndex=t,0===t?this.$tupHttp(this,"front/stockProduct/getDraft","POST").then(function(t){s.draft=t.data.model,s.draft.list&&(s.stockList=s.draft.list)}):1===t&&(this.stockList=[],this.$tupHttp(this,"front/stockProduct/getSubmit/"+this.year).then(function(t){s.stock=t.data.model,s.stockList=t.data.model.list?t.data.model.list:[]}))}},created:function(){this._getStock(this.switchIndex)},components:{XHeader:a.a,Tab:e.a,TabItem:o.a,Datetime:c.a}}),r=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"stock-list-wrapper"},[i("x-header",{staticClass:"vux-1px-b",attrs:{title:"库存盘点","left-options":{backText:"",preventGoBack:!0}},on:{"on-click-back":t.goBack}},[1===t.draft.type?i("div",{staticClass:"icon-add",attrs:{slot:"right"},on:{click:t.toAdd},slot:"right"}):t._e()]),t._v(" "),i("div",{staticClass:"stock-tab"},[i("tab",{staticStyle:{width:"100%"},attrs:{"line-width":2,"custom-bar-width":"60px","prevent-default":""},on:{"on-before-index-change":t.switchTabItem},model:{value:t.switchIndex,callback:function(s){t.switchIndex=s},expression:"switchIndex"}},[i("tab-item",[t._v("草稿")]),t._v(" "),i("tab-item",[t._v("已提交")])],1)],1),t._v(" "),2===t.draft.type&&0===t.switchIndex?i("div",{staticClass:"stock-box"},[i("div",{staticClass:"stock-data vux-1px-t vux-1px-b"},[i("div",{staticClass:"header vux-1px-b"},[t._v("盘点数据(草稿)\n        "),i("span",[t._v("盘点截止日期："+t._s(new Date(t.draft.stockEndTime).format("yyyy-MM-dd")))])]),t._v(" "),i("div",{staticClass:"num"},[i("div",{staticClass:"num-left vux-1px-r"},[i("p",{staticClass:"num-o"},[t._v(t._s(t.draft.stockProductClientSimpleDTO.count))]),t._v(" "),i("p",[t._v("数量")])]),t._v(" "),i("div",[i("p",{staticClass:"num-o"},[t._v("￥"+t._s(t.formatThousand(t.draft.stockProductClientSimpleDTO.money,2)))]),t._v(" "),i("p",[t._v("金额")])])])]),t._v(" "),i("div",{staticClass:"stock-list vux-1px-t"},t._l(t.stockList,function(s){return i("div",{staticClass:"vux-1px-b stock-item",on:{click:t.toAdd}},[i("img",{attrs:{src:t.stockIcon}}),t._v(" "),i("p",{staticClass:"item-name"},[t._v(t._s(s.stockName))]),t._v(" "),i("p",{staticClass:"item-time"},[t._v(t._s(new Date(s.updateTime).format("yyyy-MM-dd hh:mm:ss")))]),t._v(" "),i("i",{staticClass:"icon-back-"})])}),0)]):t._e(),t._v(" "),1===t.switchIndex?i("div",{staticClass:"stock-box"},[i("div",{staticClass:"stock-data vux-1px-t vux-1px-b"},[i("div",{staticClass:"header vux-1px-b"},[t._v("盘点数据\n        "),i("span",{on:{click:t.changeYear}},[t._v(t._s(t.year)+" "),i("i",{staticClass:"icon-down"})])]),t._v(" "),i("div",{staticClass:"num"},[i("div",{staticClass:"num-left vux-1px-r"},[i("p",{staticClass:"num-o"},[t._v(t._s(t.stock.stockProductClientSimpleDTO.count))]),t._v(" "),i("p",[t._v("数量")])]),t._v(" "),i("div",[i("p",{staticClass:"num-o"},[t._v("￥"+t._s(t.formatThousand(t.stock.stockProductClientSimpleDTO.money,2)))]),t._v(" "),i("p",[t._v("金额")])])])]),t._v(" "),i("div",{staticClass:"stock-list",class:{"vux-1px-t":t.stockList.length}},t._l(t.stockList,function(s){return i("div",{staticClass:"vux-1px-b stock-item",on:{click:function(i){return t.toStockDetail(s.id,s.canSave)}}},[i("img",{attrs:{src:t.stockIcon}}),t._v(" "),i("p",{staticClass:"item-name"},[t._v(t._s(s.stockName))]),t._v(" "),i("p",{staticClass:"item-time"},[t._v(t._s(new Date(s.updateTime).format("yyyy-MM-dd hh:mm:ss")))]),t._v(" "),i("i",{staticClass:"icon-back-"})])}),0)]):t._e(),t._v(" "),1!==t.draft.type&&0!==t.draft.type&&3!==t.draft.type||0!=t.switchIndex?t._e():i("div",{staticClass:"no-result"},[i("i",{staticClass:"icon-caogao-wushuju"}),t._v(" "),1===t.draft.type?i("div",[t._v("盘点截止日期"),i("br"),t._v(t._s(new Date(t.draft.stockEndTime).format("yyyy-MM-dd"))+"\n    ")]):t._e(),t._v(" "),0===t.draft.type?i("div",[t._v("当前时间段不可创建草稿\n    ")]):t._e(),t._v(" "),3===t.draft.type?i("div",[t._v("盘点数据已提交\n    ")]):t._e()]),t._v(" "),i("datetime",{attrs:{show:t.ifShowYear,format:"YYYY"},on:{"update:show":function(s){t.ifShowYear=s},"on-change":t.changeDate},model:{value:t.year,callback:function(s){t.year=s},expression:"year"}})],1)},p=[];r._withStripped=!0;var d={render:r,staticRenderFns:p},k=d,u=!1,h=i("VU/8"),v=n,m=h(l,k,!1,v,null,null);m.options.__file="src/components/stock/stockList.vue";s.default=m.exports},zaEM:function(t,s,i){s=t.exports=i("FZ+f")(!1),s.push([t.i,"\n.stock-list-wrapper .vux-datetime {\n  display: none;\n}\n.stock-list-wrapper .icon-add {\n  font-size: 22px;\n  margin-top: 7px;\n}\n.stock-list-wrapper .stock-tab .vux-tab-wrap {\n  padding-top: 35px;\n}\n.stock-list-wrapper .stock-tab .vux-tab-container,\n.stock-list-wrapper .stock-tab .vux-tab {\n  height: 35px;\n}\n.stock-list-wrapper .stock-tab .vux-tab-item {\n  line-height: 35px;\n}\n.stock-list-wrapper .stock-box {\n  position: absolute;\n  top: 79px;\n  bottom: 0;\n  width: 100%;\n  overflow-y: scroll;\n}\n.stock-list-wrapper .stock-data {\n  padding: 0 15px;\n  background-color: #fff;\n  margin-top: .1rem;\n}\n.stock-list-wrapper .stock-data .header {\n  height: 40px;\n  line-height: 40px;\n  font-size: 14px;\n  position: relative;\n  font-weight: bold;\n  text-indent: 8px;\n}\n.stock-list-wrapper .stock-data .header:before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 14px;\n  height: 13px;\n  width: 4px;\n  background-color: #ec6868;\n}\n.stock-list-wrapper .stock-data .header span {\n  float: right;\n  font-weight: normal;\n  font-size: 12px;\n}\n.stock-list-wrapper .stock-data .num {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.stock-list-wrapper .stock-data .num div {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  text-align: center;\n  margin: 12px 0;\n}\n.stock-list-wrapper .stock-data .num .num-o {\n  font-weight: bold;\n  font-size: 14px;\n  color: #ec6868;\n  margin: 2px 0;\n}\n.stock-list-wrapper .stock-list {\n  margin-top: .1rem;\n  background-color: #fff;\n}\n.stock-list-wrapper .stock-list .stock-item {\n  position: relative;\n  padding: 12px 0 12px 50px;\n}\n.stock-list-wrapper .stock-list img {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  left: 10px;\n  top: 15px;\n}\n.stock-list-wrapper .stock-list .item-name {\n  font-weight: bold;\n}\n.stock-list-wrapper .stock-list i {\n  position: absolute;\n  right: 10px;\n  top: 27px;\n}\n.stock-list-wrapper .no-result {\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  top: 40%;\n  color: #c9c9c9;\n  font-size: 13px;\n}\n.stock-list-wrapper .no-result i {\n  display: inline-block;\n  font-size: 90px;\n  margin-bottom: 10px;\n}\n",""])}});
//# sourceMappingURL=20.0089bc8df098e02d07ee.js.map