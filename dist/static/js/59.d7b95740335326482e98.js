webpackJsonp([59],{ijk5:function(t,o,r){"use strict";function e(t){x||r("rA1a")}Object.defineProperty(o,"__esModule",{value:!0});var i=r("Dd8w"),a=r.n(i),n=r("ABCa"),s=r("HD9R"),p=r("EmH9"),c=r("/kga"),l=r("ALGc"),d=r("ghf0"),u=r("NYxO"),v=r("FWaR"),m=(n.a,d.a,s.a,p.a,c.a,l.a,a()({returnBack:function(){this.$uweb.trackEvent("107","订单预览-点击返回按钮","0"),this.$router.go(-1)},goBack:function(){this.$router.go(-1)},formatePrice:function(t){return t/100},closePop:function(){this.ifKit=!1},showKit:function(t){this.ifKit=!0,this.kitProduct=t},cancelPay:function(){this.ifNotProduct=!1,this.$router.go(-1)},cancelOrder:function(){var t=this;this.inited||(this.inited=!0,this.$tupHttp(this,"front/shoppingCart/cancelTemporaryOrder?orderNo="+this.orderNo,"POST").then(function(o){t.$vux.toast.text("取消成功"),clearInterval(t.timer),t.ifNotZeng=!1,t.$router.go(-1)},function(){t.inited=!1}).catch(function(){t.inited=!1}))},confirmToPay:function(){var t=this;this.inited||(this.inited=!0,this.$tupHttp(this,"front/shoppingCart/confirmTemporaryOrder?orderNo="+this.orderNo,"POST").then(function(o){t._getInfo(),t.clearCart(),t.$vux.toast.text("订单已提交，请支付"),v.a.set("TUP_pFirstOrderFlag",!0),clearInterval(t.timer),t.ifNotZeng=!1,t.payPop=!0,t._getClientGiftProducts()},function(){t.inited=!1}).catch(function(){t.inited=!1}))},toPay:function(){this._submit()},confirmPay:function(){var t=this;this.inited||(this.inited=!0,this.payLoading=!0,setTimeout(function(){t.$tupHttp(t,"front/shoppingCart/pay","POST",{orderNo:t.orderNo}).then(function(o){t.payPop=!1,t.payResult=o.data.valid,t.payResultPop=!0,t.payLoading=!1},function(){t.inited=!1,t.payLoading=!1,t.$router.replace({path:"/orderDetail",query:{orderNo:t.orderNo,redirect:"shopping"}})}).catch(function(){t.inited=!1,t.payLoading=!0,t.$router.replace({path:"/orderDetail",query:{orderNo:t.orderNo,redirect:"shopping"}})})},1500))},closePayPop:function(){this.balance+this.creditAvailable<this.orderDetail.accountDetail.balance?this.$uweb.trackEvent("111","订单预览-余额不足提示点击关闭按钮","0"):this.$uweb.trackEvent("109","订单预览-支付订单弹窗点击关闭按钮","0"),this.payPop=!1,this.$router.push({path:"/orderDetail",query:{orderNo:this.orderNo,redirect:"shopping"}})},toOrderDetail:function(){this.$router.push({path:"/orderDetail",query:{orderNo:this.orderNo,redirect:"shopping"}})},toRecharge:function(){this.$router.push({path:"/recharge",query:{redirect:"shopping",amount:Math.round(100*(this.creditAvailable>1?this.orderDetail.accountDetail.balance-this.balance-this.creditAvailable:this.orderDetail.accountDetail.balance-this.balance))/100,orderNo:this.orderNo}})},toShopping:function(){this.$router.push({path:"/shopping"})},toMine:function(){this.$router.push({path:"/mine",redirect:"shopping"})},countDown:function(t){var o=this,r=void 0,e=void 0;r="0"+Math.floor(t/60),e=Math.floor(t-60*r),this.timer=setInterval(function(){e--,e<10&&(e="0"+e),e.length>=3&&(e=59,r="0"+(Number(r)-1)),r.length>=3&&(r="00",e="00",clearInterval(o.timer),o.$vux.toast.text("下单超时，系统自动取消订单~"),o.$router.go(-1)),o.countDownTime=r+"分"+e+"秒"},1e3)},_submit:function(t){var o=this;if(!this.inited){this.inited=!0;var r=this.orderDetail;r.groupFlag=this.groupFlag?1:0,t&&(r.isDoubleConfirm=1);var e=Math.floor(7*Math.random());this.showLoading=!0,setTimeout(function(){o.$tupHttp(o,"front/shoppingCart/submit","POST",r).then(function(t){if(t.data.success&&t.data.valid)o.orderNo=t.data.extra.orderNo,o._getInfo(),o.clearCart(),o.$vux.toast.text("订单已提交，请支付"),v.a.set("TUP_pFirstOrderFlag",!0),o.payPop=!0,o._getClientGiftProducts();else if(t.data.success&&!t.data.valid)o.NotProductList=t.data.models.filter(function(t){return t.bizErrorMsg}),o.countDown(t.data.extra.countDownTime),o.orderNo=t.data.extra.orderNo,o.ifNotZeng=!0;else if(t.data.success||"1420"!==t.data.resultCode&&"1421"!==t.data.resultCode)if(t.data.success||"1415"!==t.data.resultCode)if(t.data.success||"1410"!==t.data.resultCode)if(t.data.success||"1411"!==t.data.resultCode)if(t.data.success||"1422"!==t.data.resultCode){if(!t.data.success&&"1102"===t.data.resultCode)return o.inited=!1,void o._submit()}else{var r=o;o.$vux.confirm.show({content:"您有一样的订单已经创建，是否继续提交重复订单？",confirmText:"是，继续提交",cancelText:"否，返回购物车",onCancel:function(){r.$router.go(-1)},onConfirm:function(){r._submit(!0)}})}else o.$vux.toast.text("下单失败，请重新提交订单~");else{o.NotProductList=t.data.models.filter(function(t){return t.bizErrorMsg&&3!==t.promotionPrdType&&4!==t.promotionPrdType});var e=v.a.get("TUP_cart");e.product=e.product.map(function(t){for(var r=0;r<o.NotProductList.length;r++)t.pCode===o.NotProductList[r].pCode&&!o.NotProductList[r].mustQty&&o.NotProductList[r].availableQty&&(t.shopCartNum=Math.min(o.NotProductList[r].shopCartNum,o.NotProductList[r].availableQty),t.availableQty=o.NotProductList[r].availableQty);return t}),e.promotions=e.promotion.map(function(t){for(var r=0;r<t.promotionRuleVO.productList.length;r++)for(var e=0;e<o.NotProductList.length;e++)t.promotionRuleVO.productList[r].pCode===o.NotProductList[e].pCode&&(4!==t.type&&!o.NotProductList[e].mustQty&&o.NotProductList[e].availableQty?(t.promotionRuleVO.productList[r].shopCartNum=Math.min(o.NotProductList[e].shopCartNum,o.NotProductList[e].availableQty),t.promotionRuleVO.productList[r].availableQty=o.NotProductList[e].availableQty):4===t.type&&o.NotProductList[e].avaliableWithRatioQty&&(t.promotionRuleVO.productList[r].availableQty=o.NotProductList[e].avaliableWithRatioQty,t.promotionRuleVO.productList[r].avaliableWithRatioQty=o.NotProductList[e].avaliableWithRatioQty,t.promotionRuleVO.productList[r].shopCartNum>t.promotionRuleVO.productList[r].availableQty&&(t.isNotmm=!0)));return t}),o.saveCart({type:3,item:{product:e.product,promotion:e.promotion}}),o.ifNotProduct=!0}else{o.offShelve=t.data.extra;var i=v.a.get("TUP_cart");i.product=i.product.map(function(t){for(var r=0;r<o.offShelve.length;r++)t.pCode===o.offShelve[r]&&(t.pStatus=2,t.mqq||(t.selected=!1));return t}),i.promotions=i.promotion.map(function(t){for(var r=0;r<t.promotionRuleVO.productList.length;r++)for(var e=0;e<o.offShelve.length;e++)t.promotionRuleVO.productList[r].pCode===o.offShelve[e]&&(t.promotionRuleVO.productList[r].pStatus=2,t.promotionRuleVO.productList[r].mqq||(t.promotionRuleVO.productList[r].selected=!1));if(0!==t.type)for(var i=0;i<t.promotionRuleVO.rules.length;i++)if(1===t.promotionRuleVO.rules[i].chose||3===t.promotionRuleVO.rules[i].chose)for(var a=0;a<t.promotionRuleVO.rules[i].giftList.length;a++)for(var n=0;n<o.offShelve.length;n++)t.promotionRuleVO.rules[i].giftList[a].pCode===o.offShelve[n]&&(t.promotionRuleVO.rules[i].giftList[a].pStatus=2,t.promotionRuleVO.rules[i].giftList[a].mqq||(t.promotionRuleVO.rules[i].giftList[a].selected=!1));return t}),o.saveCart({type:3,item:{product:i.product,promotion:i.promotion}}),o.$vux.toast.text(t.data.message),o.$router.go(-1)}else o.$vux.toast.text("促销机制已发生变动，系统已自动刷新购物车，请返回查看~"),o.$router.go(-1);o.showLoading=!1,o.inited=!1},function(){o.showLoading=!1,o.inited=!1}).catch(function(){o.showLoading=!1,o.inited=!1})},1e3*e)}},_getInfo:function(){var t=this;this.$tupHttp(this,"front/user/info/v1").then(function(o){t.balance=t.formatePrice(o.data.model.userAccount.balanceAvailable),t.creditAvailable=t.formatePrice(o.data.model.userAccount.creditAvailable)})},_getClientGiftProducts:function(){var t=this;this.$tupHttp(this,"front/shoppingCart/getClientGiftProducts").then(function(o){v.a.set("TUP_cart",{promotion:[],product:[],giftProducts:o.data.models||[],needGiftProduct:1}),t._selectMustPromotionsOrProducts()},function(){t.inited=!1}).catch(function(){t.inited=!1})},_selectMustPromotionsOrProducts:function(){var t=this;this.$tupHttp(this,"front/product/selectMustPromotionsOrProducts").then(function(o){var r=o.data.model;if(r){var e=v.a.get("TUP_cart");r.promotionItemVOS=r.promotionItemVOS.map(function(t){return t.promotionRuleVO.productList.map(function(t){return t.isHave&&(t.selected=!0),t.mustQty&&(t.selected=!0,t.shopCartNum=t.mustQty),t}),t.shopCartNum=1,t.ifEdit=!1,t.keyProductPrice=0,t.promotionTotalPrice=0,t}),e.promotion=e.promotion.concat(r.promotionItemVOS),null!==v.a.get("TUP_pFirstorderDate")&&(r.solrProductVos=r.solrProductVos.map(function(t){return t.shopCartNum=t.mustQty,t.selected=!0,t}),e.product=e.product.concat(r.solrProductVos)),t.saveCart({type:3,item:{product:e.product,promotion:e.promotion},isManual:0})}t._getFullDiscount()},function(){t.inited=!1}).catch(function(){t.inited=!1})},_getFullDiscount:function(){var t=this;this.$tupHttp(this,"front/product/selectPromotionsByClientIdFromSolr?subType=0").then(function(o){for(var r=o.data.models,e=0,i=r.length;e<i;e++)t.setPromotionCart({item:r[e],isManual:0})},function(){t.inited=!1}).catch(function(){t.inited=!1})},_paymentPreview:function(){var t=this,o=v.a.get("TUP_cart"),r=o.promotion.map(function(t,o){t.promotionRuleVo=t.promotionRuleVO,delete t.promotionRuleVO,t.promotionRuleVo.productList=t.promotionRuleVo.productList.filter(function(t){return t.selected&&t.shopCartNum});var r=[];return t.promotionRuleVo.rules&&t.promotionRuleVo.rules.forEach(function(t){!t.active||1!==t.chose&&3!==t.chose||t.giftList.forEach(function(t){t.selected&&t.shopCartNum&&r.push(t)})}),t.promotionRuleVo.giftList=r,t});r=r.filter(function(t){return t.promotionRuleVo.productList.length||t.promotionRuleVo.giftList.length});for(var e=o.product.filter(function(t){return t.selected&&t.shopCartNum}),i=0;i<r.length;i++){for(var a=0;a<r[i].promotionRuleVo.productList.length;a++)this.totalNum+=r[i].promotionRuleVo.productList[a].shopCartNum;for(var n=0;n<r[i].promotionRuleVo.giftList.length;n++)this.totalNum+=r[i].promotionRuleVo.giftList[n].shopCartNum}for(var s=0;s<e.length;s++)this.totalNum+=e[s].shopCartNum;var p={products:e||[],promotions:r||[],isFirstBook:null===v.a.get("TUP_pFirstorderDate")?1:0,needGiftProduct:this.needGiftProduct};this.$tupHttp(this,"front/shoppingCart/paymentPreview","POST",p).then(function(o){if(o.data.model&&(t.giftProducts=o.data.model.giftProducts||[],o.data.model.updates.length||o.data.model.deletes.length))return t.$vux.toast.text("促销机制已发生变动，系统已自动刷新购物车，请返回查看~"),void setTimeout(function(){t.$router.go(-1)},2e3);if(o.data.success&&o.data.valid)t.orderDetail=o.data.model;else if(o.data.success||"1415"!==o.data.resultCode)o.data.success||"1102"!==o.data.resultCode||(t.$vux.toast.text(o.data.message),setTimeout(function(){t.$router.go(-1)},2e3));else{t.orderDetail=o.data.model,t.offShelve=o.data.extra;var r=v.a.get("TUP_cart");r.product=r.product.map(function(o){for(var r=0;r<t.offShelve.length;r++)o.pCode===t.offShelve[r]&&(o.pStatus=2,o.mqq||(o.selected=!1));return o}),r.promotions=r.promotion.map(function(o){for(var r=0;r<o.promotionRuleVO.productList.length;r++)for(var e=0;e<t.offShelve.length;e++)o.promotionRuleVO.productList[r].pCode===t.offShelve[e]&&(o.promotionRuleVO.productList[r].pStatus=2,o.promotionRuleVO.productList[r].mqq||(o.promotionRuleVO.productList[r].selected=!1));if(0!==o.type)for(var i=0;i<o.promotionRuleVO.rules.length;i++)if(1===o.promotionRuleVO.rules[i].chose||3===o.promotionRuleVO.rules[i].chose)for(var a=0;a<o.promotionRuleVO.rules[i].giftList.length;a++)for(var n=0;n<t.offShelve.length;n++)o.promotionRuleVO.rules[i].giftList[a].pCode===t.offShelve[n]&&(o.promotionRuleVO.rules[i].giftList[a].pStatus=2,o.promotionRuleVO.rules[i].giftList[a].mqq||(o.promotionRuleVO.rules[i].giftList[a].selected=!1));return o}),t.saveCart({type:3,item:{product:r.product,promotion:r.promotion}}),t.$vux.toast.text(o.data.message)}})}},Object(u.b)(["saveCart","setPromotionCart","clearCart"])),{components:{XHeader:n.a,Scroll:d.a,Popup:s.a,CheckIcon:p.a,XDialog:c.a,XTextarea:l.a},data:function(){return{orderDetail:{},accountDetail:{},payPop:!1,payResultPop:!1,selMenu:[{label:"确认支付",type:"warn"}],payResult:!1,orderNo:"",countDownTime:0,groupFlag:!1,totalNum:0,balance:0,creditAvailable:0,needGiftProduct:v.a.get("TUP_cart").needGiftProduct,giftProducts:[],payLoading:!1,showLoading:!1,ifKit:!1,offShelve:[],ifNotProduct:!1,ifNotZeng:!1,NotProductList:[],kitProduct:[],inited:!1,timer:null}},methods:a()({returnBack:function(){this.$uweb.trackEvent("107","订单预览-点击返回按钮","0"),this.$router.go(-1)},goBack:function(){this.$router.go(-1)},formatePrice:function(t){return t/100},closePop:function(){this.ifKit=!1},showKit:function(t){this.ifKit=!0,this.kitProduct=t},cancelPay:function(){this.ifNotProduct=!1,this.$router.go(-1)},cancelOrder:function(){var t=this;this.inited||(this.inited=!0,this.$tupHttp(this,"front/shoppingCart/cancelTemporaryOrder?orderNo="+this.orderNo,"POST").then(function(o){t.$vux.toast.text("取消成功"),clearInterval(t.timer),t.ifNotZeng=!1,t.$router.go(-1)},function(){t.inited=!1}).catch(function(){t.inited=!1}))},confirmToPay:function(){var t=this;this.inited||(this.inited=!0,this.$tupHttp(this,"front/shoppingCart/confirmTemporaryOrder?orderNo="+this.orderNo,"POST").then(function(o){t._getInfo(),t.clearCart(),t.$vux.toast.text("订单已提交，请支付"),v.a.set("TUP_pFirstOrderFlag",!0),clearInterval(t.timer),t.ifNotZeng=!1,t.payPop=!0,t._getClientGiftProducts()},function(){t.inited=!1}).catch(function(){t.inited=!1}))},toPay:function(){this._submit()},confirmPay:function(){var t=this;this.inited||(this.inited=!0,this.payLoading=!0,setTimeout(function(){t.$tupHttp(t,"front/shoppingCart/pay","POST",{orderNo:t.orderNo}).then(function(o){t.payPop=!1,t.payResult=o.data.valid,t.payResultPop=!0,t.payLoading=!1},function(){t.inited=!1,t.payLoading=!1,t.$router.replace({path:"/orderDetail",query:{orderNo:t.orderNo,redirect:"shopping"}})}).catch(function(){t.inited=!1,t.payLoading=!0,t.$router.replace({path:"/orderDetail",query:{orderNo:t.orderNo,redirect:"shopping"}})})},1500))},closePayPop:function(){this.balance+this.creditAvailable<this.orderDetail.accountDetail.balance?this.$uweb.trackEvent("111","订单预览-余额不足提示点击关闭按钮","0"):this.$uweb.trackEvent("109","订单预览-支付订单弹窗点击关闭按钮","0"),this.payPop=!1,this.$router.push({path:"/orderDetail",query:{orderNo:this.orderNo,redirect:"shopping"}})},toOrderDetail:function(){this.$router.push({path:"/orderDetail",query:{orderNo:this.orderNo,redirect:"shopping"}})},toRecharge:function(){this.$router.push({path:"/recharge",query:{redirect:"shopping",amount:Math.round(100*(this.creditAvailable>1?this.orderDetail.accountDetail.balance-this.balance-this.creditAvailable:this.orderDetail.accountDetail.balance-this.balance))/100,orderNo:this.orderNo}})},toShopping:function(){this.$router.push({path:"/shopping"})},toMine:function(){this.$router.push({path:"/mine",redirect:"shopping"})},countDown:function(t){var o=this,r=void 0,e=void 0;r="0"+Math.floor(t/60),e=Math.floor(t-60*r),this.timer=setInterval(function(){e--,e<10&&(e="0"+e),e.length>=3&&(e=59,r="0"+(Number(r)-1)),r.length>=3&&(r="00",e="00",clearInterval(o.timer),o.$vux.toast.text("下单超时，系统自动取消订单~"),o.$router.go(-1)),o.countDownTime=r+"分"+e+"秒"},1e3)},_submit:function(t){var o=this;if(!this.inited){this.inited=!0;var r=this.orderDetail;r.groupFlag=this.groupFlag?1:0,t&&(r.isDoubleConfirm=1);var e=Math.floor(7*Math.random());this.showLoading=!0,setTimeout(function(){o.$tupHttp(o,"front/shoppingCart/submit","POST",r).then(function(t){if(t.data.success&&t.data.valid)o.orderNo=t.data.extra.orderNo,o._getInfo(),o.clearCart(),o.$vux.toast.text("订单已提交，请支付"),v.a.set("TUP_pFirstOrderFlag",!0),o.payPop=!0,o._getClientGiftProducts();else if(t.data.success&&!t.data.valid)o.NotProductList=t.data.models.filter(function(t){return t.bizErrorMsg}),o.countDown(t.data.extra.countDownTime),o.orderNo=t.data.extra.orderNo,o.ifNotZeng=!0;else if(t.data.success||"1420"!==t.data.resultCode&&"1421"!==t.data.resultCode)if(t.data.success||"1415"!==t.data.resultCode)if(t.data.success||"1410"!==t.data.resultCode)if(t.data.success||"1411"!==t.data.resultCode)if(t.data.success||"1422"!==t.data.resultCode){if(!t.data.success&&"1102"===t.data.resultCode)return o.inited=!1,void o._submit()}else{var r=o;o.$vux.confirm.show({content:"您有一样的订单已经创建，是否继续提交重复订单？",confirmText:"是，继续提交",cancelText:"否，返回购物车",onCancel:function(){r.$router.go(-1)},onConfirm:function(){r._submit(!0)}})}else o.$vux.toast.text("下单失败，请重新提交订单~");else{o.NotProductList=t.data.models.filter(function(t){return t.bizErrorMsg&&3!==t.promotionPrdType&&4!==t.promotionPrdType});var e=v.a.get("TUP_cart");e.product=e.product.map(function(t){for(var r=0;r<o.NotProductList.length;r++)t.pCode===o.NotProductList[r].pCode&&!o.NotProductList[r].mustQty&&o.NotProductList[r].availableQty&&(t.shopCartNum=Math.min(o.NotProductList[r].shopCartNum,o.NotProductList[r].availableQty),t.availableQty=o.NotProductList[r].availableQty);return t}),e.promotions=e.promotion.map(function(t){for(var r=0;r<t.promotionRuleVO.productList.length;r++)for(var e=0;e<o.NotProductList.length;e++)t.promotionRuleVO.productList[r].pCode===o.NotProductList[e].pCode&&(4!==t.type&&!o.NotProductList[e].mustQty&&o.NotProductList[e].availableQty?(t.promotionRuleVO.productList[r].shopCartNum=Math.min(o.NotProductList[e].shopCartNum,o.NotProductList[e].availableQty),t.promotionRuleVO.productList[r].availableQty=o.NotProductList[e].availableQty):4===t.type&&o.NotProductList[e].avaliableWithRatioQty&&(t.promotionRuleVO.productList[r].availableQty=o.NotProductList[e].avaliableWithRatioQty,t.promotionRuleVO.productList[r].avaliableWithRatioQty=o.NotProductList[e].avaliableWithRatioQty,t.promotionRuleVO.productList[r].shopCartNum>t.promotionRuleVO.productList[r].availableQty&&(t.isNotmm=!0)));return t}),o.saveCart({type:3,item:{product:e.product,promotion:e.promotion}}),o.ifNotProduct=!0}else{o.offShelve=t.data.extra;var i=v.a.get("TUP_cart");i.product=i.product.map(function(t){for(var r=0;r<o.offShelve.length;r++)t.pCode===o.offShelve[r]&&(t.pStatus=2,t.mqq||(t.selected=!1));return t}),i.promotions=i.promotion.map(function(t){for(var r=0;r<t.promotionRuleVO.productList.length;r++)for(var e=0;e<o.offShelve.length;e++)t.promotionRuleVO.productList[r].pCode===o.offShelve[e]&&(t.promotionRuleVO.productList[r].pStatus=2,t.promotionRuleVO.productList[r].mqq||(t.promotionRuleVO.productList[r].selected=!1));if(0!==t.type)for(var i=0;i<t.promotionRuleVO.rules.length;i++)if(1===t.promotionRuleVO.rules[i].chose||3===t.promotionRuleVO.rules[i].chose)for(var a=0;a<t.promotionRuleVO.rules[i].giftList.length;a++)for(var n=0;n<o.offShelve.length;n++)t.promotionRuleVO.rules[i].giftList[a].pCode===o.offShelve[n]&&(t.promotionRuleVO.rules[i].giftList[a].pStatus=2,t.promotionRuleVO.rules[i].giftList[a].mqq||(t.promotionRuleVO.rules[i].giftList[a].selected=!1));return t}),o.saveCart({type:3,item:{product:i.product,promotion:i.promotion}}),o.$vux.toast.text(t.data.message),o.$router.go(-1)}else o.$vux.toast.text("促销机制已发生变动，系统已自动刷新购物车，请返回查看~"),o.$router.go(-1);o.showLoading=!1,o.inited=!1},function(){o.showLoading=!1,o.inited=!1}).catch(function(){o.showLoading=!1,o.inited=!1})},1e3*e)}},_getInfo:function(){var t=this;this.$tupHttp(this,"front/user/info/v1").then(function(o){t.balance=t.formatePrice(o.data.model.userAccount.balanceAvailable),t.creditAvailable=t.formatePrice(o.data.model.userAccount.creditAvailable)})},_getClientGiftProducts:function(){var t=this;this.$tupHttp(this,"front/shoppingCart/getClientGiftProducts").then(function(o){v.a.set("TUP_cart",{promotion:[],product:[],giftProducts:o.data.models||[],needGiftProduct:1}),t._selectMustPromotionsOrProducts()},function(){t.inited=!1}).catch(function(){t.inited=!1})},_selectMustPromotionsOrProducts:function(){var t=this;this.$tupHttp(this,"front/product/selectMustPromotionsOrProducts").then(function(o){var r=o.data.model;if(r){var e=v.a.get("TUP_cart");r.promotionItemVOS=r.promotionItemVOS.map(function(t){return t.promotionRuleVO.productList.map(function(t){return t.isHave&&(t.selected=!0),t.mustQty&&(t.selected=!0,t.shopCartNum=t.mustQty),t}),t.shopCartNum=1,t.ifEdit=!1,t.keyProductPrice=0,t.promotionTotalPrice=0,t}),e.promotion=e.promotion.concat(r.promotionItemVOS),null!==v.a.get("TUP_pFirstorderDate")&&(r.solrProductVos=r.solrProductVos.map(function(t){return t.shopCartNum=t.mustQty,t.selected=!0,t}),e.product=e.product.concat(r.solrProductVos)),t.saveCart({type:3,item:{product:e.product,promotion:e.promotion},isManual:0})}t._getFullDiscount()},function(){t.inited=!1}).catch(function(){t.inited=!1})},_getFullDiscount:function(){var t=this;this.$tupHttp(this,"front/product/selectPromotionsByClientIdFromSolr?subType=0").then(function(o){for(var r=o.data.models,e=0,i=r.length;e<i;e++)t.setPromotionCart({item:r[e],isManual:0})},function(){t.inited=!1}).catch(function(){t.inited=!1})},_paymentPreview:function(){var t=this,o=v.a.get("TUP_cart"),r=o.promotion.map(function(t,o){t.promotionRuleVo=t.promotionRuleVO,delete t.promotionRuleVO,t.promotionRuleVo.productList=t.promotionRuleVo.productList.filter(function(t){return t.selected&&t.shopCartNum});var r=[];return t.promotionRuleVo.rules&&t.promotionRuleVo.rules.forEach(function(t){!t.active||1!==t.chose&&3!==t.chose||t.giftList.forEach(function(t){t.selected&&t.shopCartNum&&r.push(t)})}),t.promotionRuleVo.giftList=r,t});r=r.filter(function(t){return t.promotionRuleVo.productList.length||t.promotionRuleVo.giftList.length});for(var e=o.product.filter(function(t){return t.selected&&t.shopCartNum}),i=0;i<r.length;i++){for(var a=0;a<r[i].promotionRuleVo.productList.length;a++)this.totalNum+=r[i].promotionRuleVo.productList[a].shopCartNum;for(var n=0;n<r[i].promotionRuleVo.giftList.length;n++)this.totalNum+=r[i].promotionRuleVo.giftList[n].shopCartNum}for(var s=0;s<e.length;s++)this.totalNum+=e[s].shopCartNum;var p={products:e||[],promotions:r||[],isFirstBook:null===v.a.get("TUP_pFirstorderDate")?1:0,needGiftProduct:this.needGiftProduct};this.$tupHttp(this,"front/shoppingCart/paymentPreview","POST",p).then(function(o){if(o.data.model&&(t.giftProducts=o.data.model.giftProducts||[],o.data.model.updates.length||o.data.model.deletes.length))return t.$vux.toast.text("促销机制已发生变动，系统已自动刷新购物车，请返回查看~"),void setTimeout(function(){t.$router.go(-1)},2e3);if(o.data.success&&o.data.valid)t.orderDetail=o.data.model;else if(o.data.success||"1415"!==o.data.resultCode)o.data.success||"1102"!==o.data.resultCode||(t.$vux.toast.text(o.data.message),setTimeout(function(){t.$router.go(-1)},2e3));else{t.orderDetail=o.data.model,t.offShelve=o.data.extra;var r=v.a.get("TUP_cart");r.product=r.product.map(function(o){for(var r=0;r<t.offShelve.length;r++)o.pCode===t.offShelve[r]&&(o.pStatus=2,o.mqq||(o.selected=!1));return o}),r.promotions=r.promotion.map(function(o){for(var r=0;r<o.promotionRuleVO.productList.length;r++)for(var e=0;e<t.offShelve.length;e++)o.promotionRuleVO.productList[r].pCode===t.offShelve[e]&&(o.promotionRuleVO.productList[r].pStatus=2,o.promotionRuleVO.productList[r].mqq||(o.promotionRuleVO.productList[r].selected=!1));if(0!==o.type)for(var i=0;i<o.promotionRuleVO.rules.length;i++)if(1===o.promotionRuleVO.rules[i].chose||3===o.promotionRuleVO.rules[i].chose)for(var a=0;a<o.promotionRuleVO.rules[i].giftList.length;a++)for(var n=0;n<t.offShelve.length;n++)o.promotionRuleVO.rules[i].giftList[a].pCode===t.offShelve[n]&&(o.promotionRuleVO.rules[i].giftList[a].pStatus=2,o.promotionRuleVO.rules[i].giftList[a].mqq||(o.promotionRuleVO.rules[i].giftList[a].selected=!1));return o}),t.saveCart({type:3,item:{product:r.product,promotion:r.promotion}}),t.$vux.toast.text(o.data.message)}})}},Object(u.b)(["saveCart","setPromotionCart","clearCart"])),created:function(){this._paymentPreview()},beforeRouteEnter:function(t,o,r){if("shoppingCart"!==o.name)return void r(function(t){t.$router.push({path:"/shoppingCart"})});r()},beforeRouteLeave:function(t,o,r){var e=this;this.ifNotZeng?this.$tupHttp(this,"front/shoppingCart/getTemporaryOrder").then(function(t){t.data.extra&&t.data.extra.orderNo?e.$vux.toast.text("订单未确认，请进行处理~"):(clearInterval(e.timer),r())}):r()}}),f=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("transition",{attrs:{name:"slide"}},[r("div",{staticClass:"order-confirm-wrapper page-container"},[r("x-header",{staticClass:"vux-1px-b",attrs:{title:"订单预览","left-options":{backText:"",preventGoBack:!0}},on:{"on-click-back":t.returnBack}}),t._v(" "),t.orderDetail.accountDetail?r("scroll",{staticClass:"scroll-wrapper"},[r("div",[r("div",{staticClass:"remark-wrapper wrapper"},[r("x-textarea",{attrs:{placeholder:"（选填）请填写备注，80字以内","show-counter":!1,rows:3,max:80},model:{value:t.orderDetail.remark,callback:function(o){t.$set(t.orderDetail,"remark",o)},expression:"orderDetail.remark"}})],1),t._v(" "),r("div",{staticClass:"address-wrapper wrapper"},[r("div",{staticClass:"circle"},[r("i",{staticClass:"icon-loc"})]),t._v(" "),r("div",{staticClass:"address-info"},[r("div",{staticClass:"address-flex"},[r("p",{staticClass:"address-person"},[r("span",[t._v(t._s(t.orderDetail.receiver.pUid))]),t._v(t._s(t.orderDetail.receiver.pName))]),t._v(" "),r("p",{staticClass:"address-tel"},[t._v(t._s(t.orderDetail.receiver.pMobile))])]),t._v(" "),r("p",{staticClass:"address"},[t._v(t._s(t.orderDetail.receiver.pAddress1))])])]),t._v(" "),r("div",{staticClass:"products-wrapper wrapper"},[t._l(t.orderDetail.promotions,function(o,e){return r("div",[3!==o.type?r("div",[r("div",{staticClass:"title vux-1px-b"},[r("span",{staticClass:"zhe"},[t._v(t._s(0===o.type?"优惠":1===o.type?"买赠":3===o.type?"满单":"首订礼包"))]),t._v(t._s(o.title))]),t._v(" "),t._l(o.promotionRuleVo.productList,function(o,e){return r("div",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]}),t._v(" "),o.isHave?2===o.pStatus?r("i",[t._v("下架")]):t._e():r("i",[t._v("缺货")])]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")])]),t._v(" "),o.kitProductVoList&&o.kitProductVoList.length?r("div",{staticClass:"kit-btn",on:{click:function(r){return t.showKit(o)}}},[t._v("查看套装产品明细")]):t._e()])]),t._v(" "),r("div",{staticClass:"products-info vux-1px-b"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",[t._v("购买数量")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio*o.shopCartNum))])])]),t._v(" "),r("div",{staticClass:"products-price"},[r("div",{staticClass:"unit"},[t._v("订购单价(元/套)"),r("span",[t._v(t._s(t.$util.formatThousand(o.orderRatioPrice))+"元/"+t._s(o.orderUnit))])]),t._v(" "),r("div",{staticClass:"cal"},[t._v("小计"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(Math.round(o.orderRatioPrice*o.shopCartNum*100)/100)))])])])])}),t._v(" "),t._l(o.promotionRuleVo.giftList,function(o,e){return r("div",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]}),t._v(" "),o.isHave?2===o.pStatus?r("i",[t._v("下架")]):t._e():r("i",[t._v("缺货")])]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")]),t._v(" "),r("span",{staticClass:"zhe"},[t._v(t._s(o.orderRatioPrice?"换购":"赠送"))])]),t._v(" "),o.kitProductVoList&&o.kitProductVoList.length?r("div",{staticClass:"kit-btn",on:{click:function(r){return t.showKit(o)}}},[t._v("查看套装产品明细")]):t._e()])]),t._v(" "),r("div",{staticClass:"products-info vux-1px-b"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",[t._v("购买数量")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio*o.shopCartNum))])])]),t._v(" "),r("div",{staticClass:"products-price"},[r("div",{staticClass:"unit"},[t._v("订购单价(元/套)"),r("span",[t._v(t._s(t.$util.formatThousand(o.orderRatioPrice))+"元/"+t._s(o.orderUnit))])]),t._v(" "),r("div",{staticClass:"cal"},[t._v("小计"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(Math.round(o.orderRatioPrice*o.shopCartNum*100)/100)))])])])])})],2):t._e()])}),t._v(" "),t.orderDetail.products.length?r("div",{staticClass:"title vux-1px-b"},[t._v("常规产品")]):t._e(),t._v(" "),t._l(t.orderDetail.products,function(o,e){return r("div",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"item.pPicLocations ? item.pPicLocations[0] + '!90' : ''"}]}),t._v(" "),o.isHave?2===o.pStatus?r("i",[t._v("下架")]):t._e():r("i",[t._v("缺货")])]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")])]),t._v(" "),o.kitProductVoList&&o.kitProductVoList.length?r("div",{staticClass:"kit-btn",on:{click:function(r){return t.showKit(o)}}},[t._v("查看套装产品明细")]):t._e()])]),t._v(" "),r("div",{staticClass:"products-info vux-1px-b"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",[t._v("购买数量")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio*o.shopCartNum))])])]),t._v(" "),r("div",{staticClass:"products-price"},[r("div",{staticClass:"unit"},[t._v("订购单价(元/套)"),r("span",[t._v(t._s(t.$util.formatThousand(o.orderRatioPrice))+"元/"+t._s(o.orderUnit))])]),t._v(" "),r("div",{staticClass:"cal"},[t._v("小计"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(Math.round(o.orderRatioPrice*o.shopCartNum*100)/100)))])])])])}),t._v(" "),1===t.needGiftProduct&&t.giftProducts.length?r("div",[r("div",{staticClass:"title vux-1px-b"},[t._v("指定赠送")]),t._v(" "),t._l(t.giftProducts,function(o,e){return r("div",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]}),t._v(" "),o.isHave?2===o.pStatus?r("i",[t._v("下架")]):t._e():r("i",[t._v("缺货")])]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")]),t._v(" "),r("span",{staticClass:"zhe"},[t._v("赠送")])]),t._v(" "),o.kitProductVoList&&o.kitProductVoList.length?r("div",{staticClass:"kit-btn",on:{click:function(r){return t.showKit(o)}}},[t._v("查看套装产品明细")]):t._e()])]),t._v(" "),r("div",{staticClass:"products-info vux-1px-b"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",[t._v("购买数量")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio*o.shopCartNum))])])]),t._v(" "),r("div",{staticClass:"products-price vux-1px-b"},[r("div",{staticClass:"unit"},[t._v("订购单价(元/套)"),r("span",[t._v(t._s(t.$util.formatThousand(o.orderRatioPrice))+"元/"+t._s(o.orderUnit))])]),t._v(" "),r("div",{staticClass:"cal"},[t._v("小计"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(Math.round(o.orderRatioPrice*o.shopCartNum*100)/100)))])])]),t._v(" "),r("div",{staticClass:"products-remark"},[t._v("指定赠送备注："+t._s(o.remark))])])})],2):t._e(),t._v(" "),t._l(t.orderDetail.promotions,function(o,e){return r("div",[3===o.type?r("div",[r("div",{staticClass:"title vux-1px-b"},[r("span",{staticClass:"zhe"},[t._v(t._s(0===o.type?"优惠":1===o.type?"买赠":"满单"))]),t._v(t._s(o.title))]),t._v(" "),t._l(o.promotionRuleVo.productList,function(o,e){return r("div",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]}),t._v(" "),o.isHave?2===o.pStatus?r("i",[t._v("下架")]):t._e():r("i",[t._v("缺货")])]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")])]),t._v(" "),o.kitProductVoList&&o.kitProductVoList.length?r("div",{staticClass:"kit-btn",on:{click:function(r){return t.showKit(o)}}},[t._v("查看套装产品明细")]):t._e()])]),t._v(" "),r("div",{staticClass:"products-info vux-1px-b"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",[t._v("购买数量")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio*o.shopCartNum))])])]),t._v(" "),r("div",{staticClass:"products-price"},[r("div",{staticClass:"unit"},[t._v("订购单价(元/套)"),r("span",[t._v(t._s(t.$util.formatThousand(o.orderRatioPrice))+"元/"+t._s(o.orderUnit))])]),t._v(" "),r("div",{staticClass:"cal"},[t._v("小计"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(Math.round(o.orderRatioPrice*o.shopCartNum*100)/100)))])])])])}),t._v(" "),t._l(o.promotionRuleVo.giftList,function(o,e){return r("div",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]}),t._v(" "),o.isHave?2===o.pStatus?r("i",[t._v("下架")]):t._e():r("i",[t._v("缺货")])]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")]),t._v(" "),r("span",{staticClass:"zhe"},[t._v(t._s(o.orderRatioPrice?"换购":"赠送"))])]),t._v(" "),o.kitProductVoList&&o.kitProductVoList.length?r("div",{staticClass:"kit-btn",on:{click:function(r){return t.showKit(o)}}},[t._v("查看套装产品明细")]):t._e()])]),t._v(" "),r("div",{staticClass:"products-info vux-1px-b"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",[t._v("购买数量")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio*o.shopCartNum))])])]),t._v(" "),r("div",{staticClass:"products-price"},[r("div",{staticClass:"unit"},[t._v("订购单价(元/套)"),r("span",[t._v(t._s(t.$util.formatThousand(o.orderRatioPrice))+"元/"+t._s(o.orderUnit))])]),t._v(" "),r("div",{staticClass:"cal"},[t._v("小计"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(Math.round(o.orderRatioPrice*o.shopCartNum*100)/100)))])])])])})],2):t._e()])})],2),t._v(" "),r("div",{staticClass:"goods-total wrapper"},[r("span",{staticClass:"goods-num"},[t._v("共"+t._s(t.totalNum)+"件商品")]),t._v(" "),r("span",{staticClass:"goods-m"},[t._v("小计："),r("span",[t._v("￥"+t._s(t.$util.formatThousand(t.orderDetail.accountDetail.totalAmount)))])])]),t._v(" "),r("ul",{staticClass:"price-wrapper wrapper"},[r("li",[r("span",[t._v("订单零售价：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.totalAmount)))])]),t._v(" "),r("li",[r("span",[t._v("不打折产品总金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.amount)))])]),t._v(" "),r("li",[r("span",[t._v("打折产品总金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.discountAmount)))])]),t._v(" "),r("li",[r("span",[t._v("优惠前零售金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.totalAmount)))])]),t._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:-2147483648!=t.orderDetail.accountDetail.discountE,expression:"orderDetail.accountDetail.discountE != -2147483648"}]},[r("span",[t._v("订货券金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.discountE)))])]),t._v(" "),r("li",[r("span",[t._v("优惠券金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.coupon+t.orderDetail.accountDetail.discountD)))])]),t._v(" "),r("li",[r("span",[t._v("优惠后零售金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.couponedTotalAmount)))])]),t._v(" "),r("li",[r("span",[t._v("打折部分应付金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.rateAmount)))])]),t._v(" "),r("li",[r("span",[t._v("折扣率：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.accountDetail.rate)+"%")])]),t._v(" "),r("li",[r("span",[t._v("(不打折+打折)应付金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.accountPayable)))])]),t._v(" "),r("li",[r("span",[t._v("A类折扣差账户支付金额：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.discountA)))])]),t._v(" "),r("li",[r("span",[t._v("B类折扣差账户实际支付：")]),t._v(" "),r("span",[t._v(t._s(t.$util.formatThousand(t.orderDetail.accountDetail.discountB)))])])])])]):t._e(),t._v(" "),t.orderDetail.accountDetail?r("div",{staticClass:"pay-wrapper vux-1px-t"},[t.offShelve.length?r("a",{staticClass:"count-btn",on:{click:t.goBack}},[t._v("返回购物车")]):r("a",{directives:[{name:"track-event",rawName:"v-track-event",value:"106,订单预览-点击提交订单按钮,0",expression:"'106,订单预览-点击提交订单按钮,0'"}],staticClass:"count-btn",on:{click:t.toPay}},[t._v("提交订单")]),t._v(" "),r("div",{staticClass:"pay-total"},[t._v("实付:"),r("span",[t._v("￥"+t._s(t.$util.formatThousand(t.orderDetail.accountDetail.balance)))])])]):t._e(),t._v(" "),t.orderDetail.accountDetail?r("popup",{staticClass:"pay-popup",attrs:{position:"bottom","hide-on-blur":!1},model:{value:t.payPop,callback:function(o){t.payPop=o},expression:"payPop"}},[r("div",{staticClass:"pay-header vux-1px-b"},[r("i",{staticClass:"icon-close",on:{click:t.closePayPop}}),t._v("支付订单")]),t._v(" "),r("div",{staticClass:"pay-content"},[t.balance+t.creditAvailable<t.orderDetail.accountDetail.balance?r("p",{staticClass:"un-enough"},[t._v("账户可用余额不足，请充值")]):t._e(),t._v(" "),r("p",[r("span",[t._v("可用余额")]),t._v(" "),r("span",[t._v("￥"+t._s(t.$util.formatThousand(t.balance)))])]),t._v(" "),r("p",[r("span",[t._v("应支付金额")]),t._v(" "),r("span",[t._v("￥"+t._s(t.$util.formatThousand(t.orderDetail.accountDetail.balance)))])])]),t._v(" "),t.balance+t.creditAvailable>=t.orderDetail.accountDetail.balance?r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:"108,订单预览-点击确认支付按钮,0",expression:"'108,订单预览-点击确认支付按钮,0'"}],staticClass:"pay-btn",on:{click:t.confirmPay}},[t._v("确认支付")]):t._e(),t._v(" "),t.balance+t.creditAvailable<t.orderDetail.accountDetail.balance?r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:"110,订单预览-余额不足点击充值按钮,0",expression:"'110,订单预览-余额不足点击充值按钮,0'"}],staticClass:"pay-btn",on:{click:t.toRecharge}},[t._v("去充值")]):t._e()]):t._e(),t._v(" "),t.orderDetail.accountDetail?r("popup",{staticClass:"pay-result-popup page-container",attrs:{position:"bottom",height:"100%"},model:{value:t.payResultPop,callback:function(o){t.payResultPop=o},expression:"payResultPop"}},[r("x-header",{staticClass:"vux-1px-b",attrs:{title:t.payResult?"支付成功":"支付失败","left-options":{backText:"",preventGoBack:!0}},on:{"on-click-back":t.toShopping}}),t._v(" "),r("div",{staticClass:"pay-result-box vux-1px-t vux-1px-b"},[t.payResult?r("div",{staticClass:"pay-status pay-success"},[t._v("-"),r("span",[t._v(t._s(t.orderDetail.accountDetail.balance))])]):t._e(),t._v(" "),t.payResult?t._e():r("div",{staticClass:"pay-status pay-fail"},[t._v("你的账户额度不足本次支付！")]),t._v(" "),t.payResult?r("div",{staticClass:"btn-wrapper vux-1px-t"},[r("a",{directives:[{name:"track-event",rawName:"v-track-event",value:"116,订单支付成功-点击返回订货按钮,0",expression:"'116,订单支付成功-点击返回订货按钮,0'"}],on:{click:t.toShopping}},[t._v("返回订购页")])]):t._e(),t._v(" "),t.payResult?t._e():r("div",{staticClass:"btn-wrapper vux-1px-t"},[r("a",{staticClass:"vux-1px-r",on:{click:t.toMine}},[t._v("关闭")]),t._v(" "),r("a",{on:{click:t.toRecharge}},[t._v("账户充值")])])])],1):t._e(),t._v(" "),r("x-dialog",{staticClass:"waiting-content",model:{value:t.payLoading,callback:function(o){t.payLoading=o},expression:"payLoading"}},[r("div",{staticClass:"waiting"},[r("i",{staticClass:"icon-loading"}),t._v(" "),r("p",{staticClass:"waiting-p"},[t._v("支付中，请稍候")]),t._v(" "),r("p",[t._v("请勿退出页面")])])]),t._v(" "),r("x-dialog",{staticClass:"waiting-content",model:{value:t.showLoading,callback:function(o){t.showLoading=o},expression:"showLoading"}},[r("div",{staticClass:"waiting"},[r("i",{staticClass:"icon-loading"}),t._v(" "),r("p",{staticClass:"waiting-p"},[t._v("促销规则校验中...")]),t._v(" "),r("p",[t._v("预计等待时间为0-5秒")]),t._v(" "),r("p",[t._v("请勿退出页面")])])]),t._v(" "),t.ifNotProduct?r("popup",{staticClass:"product-popup",attrs:{position:"bottom","hide-on-blur":!1},model:{value:t.ifNotProduct,callback:function(o){t.ifNotProduct=o},expression:"ifNotProduct"}},[r("div",{staticClass:"popup-scroll"},[r("div",{staticClass:"sm"},[t._v("以下产品配额或库存数量不足，请返回购物车修改产品后重新提交")]),t._v(" "),r("ul",t._l(t.NotProductList,function(o,e){return r("li",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]})]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")]),t._v(" "),2===o.promotionPrdType?r("span",{staticClass:"zhe"},[t._v("换购")]):t._e()])])]),t._v(" "),r("div",{staticClass:"products-info"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",[r("p",{staticClass:"error"},[t._v(t._s(o.bizErrorMsg))])])])])}),0)]),t._v(" "),r("div",{staticClass:"btn-wrapper vux-1px-t"},[r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:"112,订单预览-主产品或换购品数量不足点击返回购物车修改按钮,0",expression:"'112,订单预览-主产品或换购品数量不足点击返回购物车修改按钮,0'"}],staticClass:"cancel-btn",on:{click:t.cancelPay}},[t._v("取消并返回购物车")])])]):t._e(),t._v(" "),t.ifNotZeng?r("popup",{staticClass:"zeng-popup",attrs:{position:"bottom","hide-on-blur":!1},model:{value:t.ifNotZeng,callback:function(o){t.ifNotZeng=o},expression:"ifNotZeng"}},[r("div",{staticClass:"popup-scroll"},[r("div",{staticClass:"sm"},[r("p",[t._v("重要提示：以下产品目前库存不足，是否继续提交订单？如继续提交，库存不足的部分不再补发。如继续等待，请返回购物车修改。")])]),t._v(" "),r("ul",t._l(t.NotProductList,function(o,e){return r("li",{staticClass:"products-item-wrapper"},[r("div",{staticClass:"products-item-box"},[r("div",{staticClass:"products-img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.pPicLocations?o.pPicLocations[0]+"!90":"",expression:"i.pPicLocations ? i.pPicLocations[0] + '!90' : ''"}]})]),t._v(" "),r("div",{staticClass:"products-content"},[r("div",{staticClass:"products-title"},[t._v(t._s(o.pCode)+"-"+t._s(o.pName))]),t._v(" "),r("div",{staticClass:"tag"},[o.isDiscount?r("span",{staticClass:"zhe"},[t._v("打折")]):r("span",{staticClass:"zhe"},[t._v("不打折")]),t._v(" "),r("span",{staticClass:"zhe"},[t._v("赠送")])])])]),t._v(" "),r("div",{staticClass:"products-info"},[r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("订货比率")]),t._v(" "),r("p",[t._v(t._s(o.orderRatio))])]),t._v(" "),r("div",{staticClass:"rate vux-1px-r"},[r("p",[t._v("购买套数")]),t._v(" "),r("p",[t._v(t._s(o.shopCartNum))])]),t._v(" "),r("div",["1"===o.minType||"2"===o.minType?r("p",[t._v("实际数量")]):t._e(),t._v(" "),"1"===o.minType||"2"===o.minType?r("p",[t._v(t._s(o.canBuyNum))]):r("p",{staticClass:"error"},[t._v("以订单提交数量为准")])])]),t._v(" "),r("div",{staticClass:"products-remark vux-1px-t"},[t._v(t._s("1"===o.minType?"门店配额部分用完，请以实际数量为准":"2"===o.minType?"产品配额部分用完，请以实际数量为准":"3"===o.minType?"区域/省办配额不足":"库存不足"))])])}),0),t._v(" "),r("p",{staticClass:"pupup-xian"},[t._v("请在限定时间内确定并提交订单，超时则视为自动取消购买产品")])]),t._v(" "),r("div",{staticClass:"btn-wrapper vux-1px-t"},[r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:"114,创建订单-赠品不足点击返回购物车按钮,0",expression:"'114,创建订单-赠品不足点击返回购物车按钮,0'"}],staticClass:"cancel-order-btn",on:{click:t.cancelOrder}},[t._v("取消")]),t._v(" "),r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:"113,创建订单-赠品不足点击继续下单按钮,0",expression:"'113,创建订单-赠品不足点击继续下单按钮,0'"}],staticClass:"confirm-btn",on:{click:t.confirmToPay}},[r("p",[t._v("提交订单")]),t._v(" "),r("p",{staticClass:"dao"},[t._v("倒计时："+t._s(t.countDownTime))])])])]):t._e(),t._v(" "),t.ifKit?r("popup",{staticClass:"kit-popup popup",attrs:{position:"bottom"},model:{value:t.ifKit,callback:function(o){t.ifKit=o},expression:"ifKit"}},[r("div",{staticClass:"popup-header vux-1px-b"},[r("p",{staticClass:"popup-title"},[t._v(t._s(t.kitProduct.pCode)+"-"+t._s(t.kitProduct.pName))]),t._v(" "),r("i",{staticClass:"icon-close",on:{click:t.closePop}})]),t._v(" "),r("ul",{staticClass:"popup-content"},[r("li",{staticClass:"header"},[r("span",[t._v("产品信息")]),t._v(" "),r("span",[t._v("套内数量")]),t._v(" "),r("span",[t._v("购买数量")])]),t._v(" "),t._l(t.kitProduct.kitProductVoList,function(o){return r("li",[r("span",[t._v(t._s(o.kitpCode)+"-"+t._s(o.kitpName))]),t._v(" "),r("span",[t._v(t._s(o.kitNumber))]),t._v(" "),r("span",[t._v(t._s(o.kitNumber*t.kitProduct.orderRatio*t.kitProduct.shopCartNum))])])})],2)]):t._e()],1)])},h=[];f._withStripped=!0;var _={render:f,staticRenderFns:h},g=_,x=!1,b=r("VU/8"),C=e,w=b(m,g,!1,C,null,null);w.options.__file="src/components/shopping/orderConfirm.vue";o.default=w.exports},rA1a:function(t,o,r){var e=r("ubMe");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);r("rjj0")("c2e0c030",e,!1,{})},ubMe:function(t,o,r){o=t.exports=r("FZ+f")(!1),o.push([t.i,"\n.order-confirm-wrapper .scroll-wrapper {\n  bottom: 44px;\n}\n.order-confirm-wrapper .scroll-wrapper .wrapper {\n  margin-left: 6px;\n  margin-right: 6px;\n  border-radius: 5px;\n  background-color: #fff;\n}\n.order-confirm-wrapper .remark-wrapper {\n  margin-bottom: 8px;\n}\n.order-confirm-wrapper .remark-wrapper .weui-textarea {\n  background-color: #f8f8f8;\n  border-radius: 5px;\n  border: solid 1px #e4e4e4;\n  padding: 5px;\n  color: #43484b;\n}\n.order-confirm-wrapper .remark-wrapper .weui-cell__bd {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.order-confirm-wrapper .address-wrapper {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: .25rem .2rem;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.order-confirm-wrapper .address-wrapper .circle {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  margin-right: .2rem;\n  background-color: #ec6868;\n  position: relative;\n}\n.order-confirm-wrapper .address-wrapper .circle i {\n  font-size: 20px;\n  color: #fff;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n.order-confirm-wrapper .address-wrapper .address-info {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  color: #43484b;\n}\n.order-confirm-wrapper .address-wrapper .address-info .address-flex {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 3px;\n}\n.order-confirm-wrapper .address-wrapper .address-info .address-person {\n  font-size: 14px;\n}\n.order-confirm-wrapper .address-wrapper .address-info .address-person span {\n  margin-right: 4px;\n}\n.order-confirm-wrapper .address-wrapper .address-info .address-tel {\n  line-height: 22px;\n  color: #9b9b9b;\n}\n.order-confirm-wrapper .products-wrapper {\n  margin: 8px 0;\n  color: #43484b;\n}\n.order-confirm-wrapper .products-wrapper .title {\n  margin: 0 10px;\n  padding: 10px 0;\n  font-size: 11px;\n}\n.order-confirm-wrapper .zhe {\n  display: inline-block;\n  font-size: 9px;\n  width: 40px;\n  height: 13px;\n  line-height: 13px;\n  background-color: #ec6868;\n  text-align: center;\n  color: white;\n  border-radius: 2px;\n  margin-right: 5px;\n}\n.order-confirm-wrapper .products-item-wrapper {\n  border-bottom: 2px solid #efefef;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 10px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box .products-img {\n  width: 1.45rem;\n  height: 1.45rem;\n  border-radius: .1rem;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 1.45rem;\n          flex: 0 0 1.45rem;\n  margin-top: .06rem;\n  text-align: center;\n  line-height: 1.45rem;\n  position: relative;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box .products-img img {\n  display: inline-block;\n  vertical-align: middle;\n  max-width: 100%;\n  max-height: 100%;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box .products-img i {\n  position: absolute;\n  text-align: center;\n  background-color: rgba(204, 204, 204, 0.6);\n  font-style: normal;\n  display: block;\n  width: 100%;\n  height: 100%;\n  line-height: 1.45rem;\n  font-size: 14px;\n  font-weight: bold;\n  border-radius: 50%;\n  top: 0;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box .products-content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  position: relative;\n  margin-left: .16rem;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box .products-content .products-title {\n  font-size: 13px;\n  overflow: hidden;\n  word-break: break-all;\n  -webkit-line-clamp: 2;\n  display: -webkit-box;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n}\n.order-confirm-wrapper .products-item-wrapper .products-item-box .products-content .kit-btn {\n  position: absolute;\n  right: -10px;\n  top: 40px;\n  width: 110px;\n  height: 22px;\n  line-height: 22px;\n  text-align: center;\n  -webkit-box-shadow: 0px 4px 10px 0px rgba(236, 104, 104, 0.28);\n          box-shadow: 0px 4px 10px 0px rgba(236, 104, 104, 0.28);\n  border-radius: 11px 0px 0px 11px;\n  border: solid 1px #ec6868;\n  border-right: 0;\n  color: #ec6868;\n  font-size: 10px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-info {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 10px;\n  padding-bottom: 10px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-info div {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  text-align: center;\n  font-size: 11px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-info div p:nth-child(1) {\n  color: #b8b8b8;\n  font-size: 10px;\n  line-height: 22px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-price {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  line-height: 33px;\n  margin: 0 10px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-price .unit span {\n  font-weight: bold;\n  margin-left: 4px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-price .cal {\n  float: right;\n}\n.order-confirm-wrapper .products-item-wrapper .products-price .cal span {\n  color: #ec6868;\n  font-weight: bold;\n  margin-left: 4px;\n}\n.order-confirm-wrapper .products-item-wrapper .products-remark {\n  margin: 0 10px;\n  line-height: 33px;\n  color: #bfbfbf;\n}\n.order-confirm-wrapper .goods-total {\n  margin: 8px 0;\n  height: .9rem;\n  line-height: .9rem;\n  padding: 0 10px;\n}\n.order-confirm-wrapper .goods-total .goods-m {\n  float: right;\n}\n.order-confirm-wrapper .goods-total .goods-m span {\n  font-weight: bold;\n  color: #ec6868;\n}\n.order-confirm-wrapper .price-wrapper {\n  padding: .2rem;\n}\n.order-confirm-wrapper .price-wrapper li {\n  line-height: 30px;\n  padding: 0 5px;\n  list-style: none;\n}\n.order-confirm-wrapper .price-wrapper li:nth-child(2n) {\n  background-color: #f1f1f1;\n}\n.order-confirm-wrapper .price-wrapper li span:nth-child(2) {\n  float: right;\n}\n.order-confirm-wrapper .pay-wrapper {\n  background-color: #fff;\n  height: 44px;\n  line-height: 44px;\n  font-size: 14px;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n}\n.order-confirm-wrapper .pay-wrapper .group-icon {\n  margin-left: .15rem;\n}\n.order-confirm-wrapper .pay-wrapper .pay-total {\n  margin-left: 10px;\n}\n.order-confirm-wrapper .pay-wrapper .pay-total span {\n  color: #ec6868;\n  font-weight: bold;\n}\n.order-confirm-wrapper .pay-wrapper .count-btn {\n  color: #fff;\n  background-color: #ec6868;\n  height: 28px;\n  line-height: 28px;\n  border-radius: 28px;\n  margin-top: 8px;\n  margin-right: 10px;\n  width: 100px;\n  text-align: center;\n  float: right;\n}\n.order-confirm-wrapper .pay-popup {\n  background-color: #fff;\n}\n.order-confirm-wrapper .pay-popup .pay-header {\n  height: 42px;\n  line-height: 42px;\n  font-size: 16px;\n  text-align: center;\n  position: relative;\n  font-weight: bold;\n  margin: 0 22px;\n}\n.order-confirm-wrapper .pay-popup .pay-header i {\n  position: absolute;\n  padding: 10px;\n  top: 4px;\n  right: -10px;\n  color: #d5d5d5;\n}\n.order-confirm-wrapper .pay-popup .pay-content {\n  margin: 0 22px;\n  padding-top: 18px;\n  height: 160px;\n}\n.order-confirm-wrapper .pay-popup .pay-content p {\n  line-height: 25px;\n}\n.order-confirm-wrapper .pay-popup .pay-content p span:nth-child(1) {\n  font-size: 14px;\n}\n.order-confirm-wrapper .pay-popup .pay-content p span:nth-child(2) {\n  font-size: 15px;\n  color: #ec6868;\n  font-weight: bold;\n  float: right;\n}\n.order-confirm-wrapper .pay-popup .pay-content .un-enough {\n  color: #ec6868;\n  font-size: 14px;\n  margin: -5px 0 5px;\n}\n.order-confirm-wrapper .pay-popup .pay-btn {\n  background-color: #ffc600;\n  color: #fff;\n  height: 43px;\n  line-height: 43px;\n  text-align: center;\n  font-size: 14px;\n}\n.order-confirm-wrapper .pay-result-box {\n  background-color: #fff;\n  margin-top: 5px;\n}\n.order-confirm-wrapper .pay-result-box .pay-status {\n  height: 115px;\n  line-height: 115px;\n  text-align: center;\n}\n.order-confirm-wrapper .pay-result-box .pay-success {\n  font-size: 25px;\n}\n.order-confirm-wrapper .pay-result-box .pay-fail {\n  font-size: 17px;\n}\n.order-confirm-wrapper .pay-result-box .btn-wrapper {\n  margin: 0 .44rem;\n  padding: 8px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.order-confirm-wrapper .pay-result-box .btn-wrapper a {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  text-align: center;\n  font-size: 14px;\n  color: #ec6868;\n  line-height: 30px;\n}\n@-webkit-keyframes rotating {\nfrom {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes rotating {\nfrom {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n.order-confirm-wrapper .waiting-content .waiting {\n  padding: 25px 0;\n}\n.order-confirm-wrapper .waiting-content i {\n  font-size: 50px;\n  margin: 10px 0 20px;\n  display: inline-block;\n  -webkit-animation: rotating 1.8s linear infinite;\n          animation: rotating 1.8s linear infinite;\n  color: #ec6868;\n}\n.order-confirm-wrapper .waiting-content p {\n  text-align: center;\n  font-size: 11px;\n}\n.order-confirm-wrapper .waiting-content .waiting-p {\n  font-size: 13px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.order-confirm-wrapper .product-popup {\n  background-color: #fff;\n}\n.order-confirm-wrapper .product-popup .btn-wrapper {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: 43px;\n}\n.order-confirm-wrapper .product-popup .cancel-btn {\n  color: #fff;\n  background-color: #ec6868;\n  height: 28px;\n  line-height: 28px;\n  border-radius: 28px;\n  margin: 8px auto 0;\n  width: 160px;\n  text-align: center;\n}\n.order-confirm-wrapper .product-popup .products-item-wrapper .products-info .error {\n  color: #ec6868;\n  line-height: 40px;\n}\n.order-confirm-wrapper .popup-scroll {\n  max-height: 60vh;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  margin-bottom: 43px;\n}\n.order-confirm-wrapper .popup-scroll .sm {\n  color: #ef3939;\n  background-color: #ffeeee;\n  margin: 10px 12px;\n  padding: 5px;\n}\n.order-confirm-wrapper .popup-scroll .goods-message {\n  color: #ef3939;\n  margin-top: 2px;\n}\n.order-confirm-wrapper .zeng-popup {\n  background-color: #fff;\n}\n.order-confirm-wrapper .zeng-popup .popup-scroll {\n  margin-bottom: 50px;\n}\n.order-confirm-wrapper .zeng-popup .btn-wrapper {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  color: #fff;\n  height: 50px;\n  text-align: center;\n  font-size: 14px;\n}\n.order-confirm-wrapper .zeng-popup .btn-wrapper .cancel-order-btn {\n  height: 36px;\n  border: 1px solid #b8b8b8;\n  color: #b8b8b8;\n  width: 44%;\n  line-height: 36px;\n  border-radius: 40px;\n  margin: 7px 4%;\n}\n.order-confirm-wrapper .zeng-popup .btn-wrapper .confirm-btn {\n  height: 36px;\n  background-color: #ec6868;\n  width: 44%;\n  border-radius: 40px;\n  margin: 7px 4%;\n}\n.order-confirm-wrapper .zeng-popup .btn-wrapper .confirm-btn .dao {\n  font-size: 11px;\n  margin-top: -4px;\n}\n.order-confirm-wrapper .zeng-popup .pupup-xian {\n  text-align: center;\n  line-height: 40px;\n  color: #9b9b9b;\n}\n.order-confirm-wrapper .kit-popup .popup-content {\n  max-height: 300px;\n  padding-bottom: 30px;\n}\n.order-confirm-wrapper .kit-popup .popup-content .header {\n  color: #9b9b9b;\n  line-height: 30px;\n}\n.order-confirm-wrapper .kit-popup .popup-content li {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 5px 0;\n}\n.order-confirm-wrapper .kit-popup .popup-content li span:nth-child(1) {\n  -webkit-box-flex: 6;\n      -ms-flex: 6;\n          flex: 6;\n  margin-right: 14px;\n}\n.order-confirm-wrapper .kit-popup .popup-content li span:nth-child(2) {\n  width: 58px;\n}\n.order-confirm-wrapper .kit-popup .popup-content li span:nth-child(3) {\n  width: 58px;\n}\n",""])}});
//# sourceMappingURL=59.d7b95740335326482e98.js.map