webpackJsonp([34],{CxgN:function(t,e,s){var i=s("x8wy");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("5c283c96",i,!1,{})},"R/Qf":function(t,e,s){"use strict";function i(t){b||s("CxgN")}Object.defineProperty(e,"__esModule",{value:!0});var o=s("rHil"),n=s("pDNl"),a=s("2sLL"),r=s("ABCa"),l=s("ujWF"),p=s("ghf0"),c=s("u6B4"),d=s("FWaR"),u=(n.a,o.a,a.a,r.a,p.a,c.a,{data:function(){return{phone:"",secretPhone:"",mobile:"",passwd:"",repasswd:"",code:"",inited:!1}},methods:{sendCode:function(){var t=this;this.$refs.timer.disabled||(this.mobile===this.secretPhone?(this.$refs.timer.start(),this.$tupHttp(this,"front/login/send?mobile="+this.phone).then(function(e){t.$vux.toast.text("验证码已发送")})):Object(l.e)(this,this.mobile)&&(this.$refs.timer.start(),this.$tupHttp(this,"front/login/send?mobile="+this.mobile).then(function(e){t.$vux.toast.text("验证码已发送")})))},send:function(){var t=this;if(!this.inited){var e=this.mobile===this.secretPhone?this.phone:this.mobile;Object(l.e)(this,e)&&Object(l.d)(this,this.code,"验证码")&&Object(l.d)(this,this.passwd,"密码")&&this.validateRepeatPsw()&&(this.inited=!0,this.$tupHttp(this,"front/user/updateLoginPasswordRequest","POST",{clientId:d.a.get("TUP_pUid"),code:this.code,mobile:e,newPassword:this.passwd}).then(function(e){t.$vux.toast.text("密码修改成功,请重新登录"),d.a.remove("TUP_pUid"),d.a.remove("TUP_token"),setTimeout(function(){t.$router.go(-1)},1e3)},function(){t.inited=!1}))}},validateRepeatPsw:function(){var t=/^[\w]{6,20}$/;return"111111"===this.passwd?(this.$vux.toast.text("新密码不可与初始密码一致"),!1):t.test(this.passwd)?this.repasswd?this.passwd===this.repasswd||(this.$vux.toast.text("两次输入密码不一致"),!1):(this.$vux.toast.text("请输入确认密码"),!1):(this.$vux.toast.text("密码需为数字、字母或组合，6-20位"),!1)}},created:function(){this.phone=this.$route.query.phone,this.secretPhone=this.phone.replace(this.phone.substr(3,4),"****"),this.mobile=this.secretPhone},beforeRouteEnter:function(t,e,s){if("login"!==e.name)return void s(function(t){t.$router.push({path:"/login"})});s()},components:{XInput:n.a,Group:o.a,XButton:a.a,XHeader:r.a,Scroll:p.a,Timer:c.a}}),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"modify-pass-wrapper page-container"},[s("x-header",{staticClass:"vux-1px-b",attrs:{title:"修改登录密码","left-options":{backText:""}}}),t._v(" "),s("scroll",{staticClass:"scroll-wrapper forget-cotent"},[s("div",[s("p",{staticClass:"remarks"},[t._v("验证码将发至输入框填写的手机号码进行身份验证，请及时查收验证码操作！")]),t._v(" "),s("group",[s("x-input",{attrs:{placeholder:"请输入激活手机号码"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}},[s("i",{staticClass:"icon-phone",attrs:{slot:"label"},slot:"label"})])],1),t._v(" "),s("group",[s("x-input",{staticClass:"weui-vcode",attrs:{placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[s("div",{staticClass:"timer",attrs:{slot:"right"},on:{click:t.sendCode},slot:"right"},[s("timer",{ref:"timer"})],1)])],1),t._v(" "),s("group",[s("x-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.passwd,callback:function(e){t.passwd=e},expression:"passwd"}},[s("i",{staticClass:"icon-password",attrs:{slot:"label"},slot:"label"})])],1),t._v(" "),s("group",[s("x-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.repasswd,callback:function(e){t.repasswd=e},expression:"repasswd"}},[s("i",{staticClass:"icon-password",attrs:{slot:"label"},slot:"label"})])],1),t._v(" "),s("x-button",{staticClass:"button",attrs:{type:"primary"},nativeOn:{click:function(e){return t.send(e)}}},[t._v("提交")])],1)])],1)])},f=[];h._withStripped=!0;var m={render:h,staticRenderFns:f},v=m,b=!1,w=s("VU/8"),x=i,g=w(u,v,!1,x,null,null);g.options.__file="src/components/login/modifyPass.vue";e.default=g.exports},x8wy:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,"\n.modify-pass-wrapper .forget-cotent {\n  background-color: #fff;\n  padding: 0 15px;\n}\n.modify-pass-wrapper .forget-cotent .remarks {\n  font-size: 14px;\n  text-align: left;\n  margin: .5rem 0 .3rem;\n}\n.modify-pass-wrapper .forget-cotent i {\n  margin-right: .2rem;\n  color: #ec6868;\n}\n.modify-pass-wrapper .forget-cotent .button {\n  margin: .35rem 0;\n}\n.modify-pass-wrapper .forget-cotent .timer {\n  display: inline-block;\n}\n",""])}});
//# sourceMappingURL=34.0afa507e30b3468402f4.js.map