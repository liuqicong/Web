webpackJsonp([37],{OVxv:function(e,t,n){var i=n("e2ls");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("7fe8a056",i,!1,{})},"du/l":function(e,t,n){"use strict";function i(e){u||n("OVxv")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("ABCa"),s=n("rGqP"),r=n("UNGY"),o=n("ghf0"),l=n("/FMa"),c=(a.a,s.a,o.a,l.a,r.a,{components:{XHeader:a.a,Divider:s.a,Scroll:o.a,Loading:l.a,Datetime:r.a},data:function(){return{disArr:[],listenScroll:!0,hasMore:!0,pageNo:1,time:"",visibility:!1,pullup:!0,inited:!1}},methods:{loadMore:function(){this.hasMore&&(this.pageNo++,this._getExchangeList())},toDetail:function(e){this.$router.push({path:"/exchangeDetail",query:{id:e}})},change:function(){this.pageNo=1,this.disArr=[],this.hasMore=!0,this._getExchangeList()},onCancel:function(){this.time="",this._getExchangeList()},formatePrice:function(e){return e/100},_getExchangeList:function(){var e=this;if(this.inited)return void this.$vux.toast.text("拼命请求中，请稍候");this.inited=!0;var t={pagingQuery:{pageIndex:this.pageNo,pageSize:20}};this.time&&(t.startTime=this.time+"-01",t.endTime=this.$util.getMonthLastDay(this.time)),this.$tupHttp(this,"front/account/cash/v1","POST",t).then(function(t){e.inited=!1;var n=t.data.models.map(function(t){return t.sum=t.orderAmount?e.$util.formatThousand(e.formatePrice(t.orderAmount)):e.$util.formatThousand(e.formatePrice(t.payAmount)),t.availableLimit=e.$util.formatThousand(e.formatePrice(t.availableLimit)),t.commitTime=new Date(t.commitTime).format("yyyy-MM-dd hh:mm:ss"),t});1!==e.pageNo||e.disArr.length?e.disArr=e.disArr.concat(n):e.disArr=n,t.data.models.length<20&&(e.hasMore=!1),setTimeout(function(){e.$refs.scroll.refresh()},500)},function(){e.inited=!1}).catch(function(){e.inited=!1})}},created:function(){this._getExchangeList()}}),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"exchange-wrapper page-container"},[n("x-header",{staticClass:"vux-1px-b",attrs:{title:"账户往来","left-options":{backText:""}}}),e._v(" "),n("div",{staticClass:"select-wrapper"},[n("div",[n("span",{staticClass:"time"},[e._v("时间：")]),e._v(" "),n("div",{staticClass:"select",class:{chose:e.time},on:{click:function(t){e.visibility=!0}}},[e._v(e._s(e.time||"请选择查询时间")),n("i",{staticClass:"icon-down"})])])]),e._v(" "),n("datetime",{attrs:{format:"YYYY-MM",show:e.visibility,"cancel-text":"重置"},on:{"update:show":function(t){e.visibility=t},"on-change":e.change,"on-cancel":e.onCancel},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),e._v(" "),n("scroll",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{listenScroll:e.listenScroll,pullup:e.pullup},on:{scrollToEnd:e.loadMore}},[n("div",[e._l(e.disArr,function(t,i){return n("div",{key:i,staticClass:"dis-content"},[n("div",{staticClass:"dis-item",class:{"vux-1px-b":i!==e.disArr.length-1},on:{click:function(n){return e.toDetail(t.id)}}},[n("p",[n("span",{staticClass:"dis-name"},[e._v(e._s(t.type))]),e._v(" "),n("span",{staticClass:"dis-money"},[e._v(e._s(t.sum))])]),e._v(" "),n("p",{staticClass:"dis-s"},[n("span",{staticClass:"dis-time"},[e._v(e._s(t.commitTime))]),e._v(" "),n("span",{staticClass:"dis-sheng"},[e._v("账户余额："+e._s(t.availableLimit))])])])])}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasMore,expression:"hasMore"}],staticClass:"loading-container"},[n("loading",{attrs:{title:"数据加载中..."}})],1),e._v(" "),n("divider",{directives:[{name:"show",rawName:"v-show",value:!e.hasMore&&e.disArr.length,expression:"!hasMore && disArr.length"}]},[e._v("没有更多了...")])],2)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disArr.length&&!e.inited,expression:"!disArr.length && !inited"}],staticClass:"no-result"},[n("i",{staticClass:"icon-no"}),e._v(" "),n("p",[e._v("暂无账户往来数据")])])],1)])},d=[];p._withStripped=!0;var h={render:p,staticRenderFns:d},m=h,u=!1,g=n("VU/8"),x=i,f=g(c,m,!1,x,null,null);f.options.__file="src/components/mine/exchange.vue";t.default=f.exports},e2ls:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"\n.exchange-wrapper .select-wrapper {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background-color: #fff;\n  height: 35px;\n  line-height: 35px;\n}\n.exchange-wrapper .select-wrapper > div {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.exchange-wrapper .select-wrapper .time {\n  color: #9b9b9b;\n  text-indent: 20px;\n}\n.exchange-wrapper .select {\n  height: 35px;\n  line-height: 35px;\n  text-align: center;\n  background-color: #fff;\n}\n.exchange-wrapper .select.chose {\n  color: #ec6868;\n  font-weight: bold;\n}\n.exchange-wrapper .select i {\n  font-size: 14px;\n  margin-left: 5px;\n  font-weight: normal;\n}\n.exchange-wrapper .vux-datetime-value {\n  opacity: 0;\n}\n.exchange-wrapper .scroll-wrapper {\n  top: 85px;\n}\n.exchange-wrapper .scroll-wrapper .dis-content {\n  background-color: #fff;\n  padding: .14rem .3rem 0;\n}\n.exchange-wrapper .scroll-wrapper .dis-content .dis-item {\n  color: #343434;\n}\n.exchange-wrapper .scroll-wrapper .dis-content .dis-item span {\n  display: inline-block;\n}\n.exchange-wrapper .scroll-wrapper .dis-content .dis-item .dis-name {\n  font-size: 15px;\n  font-weight: bold;\n}\n.exchange-wrapper .scroll-wrapper .dis-content .dis-item .dis-money {\n  float: right;\n  font-size: 16px;\n  font-weight: bold;\n}\n.exchange-wrapper .scroll-wrapper .dis-content .dis-item .dis-s {\n  color: #9b9b9b;\n  padding: .1rem 0;\n}\n.exchange-wrapper .scroll-wrapper .dis-content .dis-item .dis-sheng {\n  float: right;\n}\n.exchange-wrapper .no-result {\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  top: 40%;\n  color: #c9c9c9;\n}\n.exchange-wrapper .no-result i {\n  font-size: 90px;\n}\n.exchange-wrapper .no-result p {\n  font-size: 15px;\n}\n.exchange-wrapper .loading-container {\n  margin-top: 20px;\n}\n",""])}});
//# sourceMappingURL=37.d2ee47b851587d602dd0.js.map